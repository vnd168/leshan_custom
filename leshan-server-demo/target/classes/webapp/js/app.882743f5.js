(function(){"use strict";var e={4201:function(e,t,s){var i=s(144),n=s(9669),o=s.n(n);let r={responseType:"text"};const a=e=>e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]))),l=o().create(r);l.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){if(e.data&&e.data.failure){let t=`Device response : ${e.data.status}`;e.data.errormessage&&(t+=` - ${e.data.errormessage}`),i.ZP.prototype.$dialog.notify.warning(a(t),{position:"bottom-right",timeout:5e3})}return e}),(function(e){let t;return e.response?(console.log(`${e.message}[${e.response.status}]:${e.response.data}`),t=e.response.data?e.response.data:e.message):e.request?(console.log(`${e.message}:${e.request.data}`),t=e.request.data?e.request.data:e.message):(console.log(e.message),t=e.message),i.ZP.prototype.$dialog.notify.error(a(t),{position:"bottom-right",timeout:5e3}),Promise.reject(e)})),Plugin.install=function(e){e.axios=l,window.axios=l,Object.defineProperties(e.prototype,{axios:{get(){return l}},$axios:{get(){return l}}})},i.ZP.use(Plugin);Plugin;var c=s(2482);class u{constructor(){(0,c.Z)(this,"state",{});var e=new i.ZP({data:{state:{}}});this.state=e.state}initState(e){i.ZP.set(this.state,e,{data:{},observed:{},compositeObserved:{}})}data(e,t){return this.state[e].data[t]}newResourceValue(e,t,s,i=!1){void 0!==s.value?this.newSingleResourceValue(e,t,s.value,i):void 0!==s.values?this.newMultiResourceValue(e,t,s.values,i):console.log("unsupported resource : ",s)}newSingleResourceValue(e,t,s,n=!1){let o=this.data(e,t);o&&o.single?(o.val=s,o.supposed=n):(o={val:s,supposed:n,isSingle:!0},i.ZP.set(this.state[e].data,t,o))}newMultiResourceValue(e,t,s,n=!1){let o={vals:{}};for(const i in s)o.vals[i]={},o.vals[i].val=s[i],o.vals[i].supposed=n;o.supposed=n,o.isSingle=!1,i.ZP.set(this.state[e].data,t,o)}newResourceInstanceValueFromPath(e,t,s,i=!1){let n=t.lastIndexOf("/"),o=t.substring(0,n),r=t.substring(n+1);this.newResourceInstanceValue(e,o,Number(r),s,i)}newResourceInstanceValue(e,t,s,n,o=!1){let r=this.data(e,t);if(!r||r.single)r={},r.vals={},r.vals[s]={},r.vals[s].val=n,r.vals[s].supposed=o,r.supposed=o,r.isSingle=!1,i.ZP.set(this.state[e].data,t,r);else if(r.vals[s])r.vals[s].val=n,r.vals[s].supposed=o;else{let e={val:n,supposed:o};i.ZP.set(r.vals,s,e)}}newInstanceValue(e,t,s,i=!1,n=!1){n||this.removeInstanceValue(e,t),s.forEach((s=>{this.newResourceValue(e,t+"/"+s.id,s,i)}))}newObjectValue(e,t,s,i=!1){this.removeObjectValue(e,t),s.forEach((s=>{this.newInstanceValue(e,t+"/"+s.id,s.resources,i)}))}newNode(e,t,s,i=!1){"singleResource"===s.kind?this.newResourceValue(e,t,s,i):"multiResource"===s.kind?this.newMultiResourceValue(e,t,s["values"],i):"resourceInstance"===s.kind?this.newResourceInstanceValueFromPath(e,t,s.value,i):"instance"===s.kind?this.newInstanceValue(e,t,s.resources,i):"obj"===s.kind?this.newObjectValue(e,t,s.instances,i):console.log(s.kind," not yet supported")}newNodes(e,t,s=!1){Object.entries(t).forEach((([t,i])=>{this.newNode(e,t,i,s)}))}removeInstanceValue(e,t){let s=t+"/",i=this.state[e];Object.keys(i.data).forEach((e=>{e.startsWith(s)&&delete i.data[e]}))}removeObjectValue(e,t){let s=t+"/",i=this.state[e];Object.keys(i.data).forEach((e=>{e.startsWith(s)&&delete i.data[e]}))}setObserved(e,t,s){let n=this.state[e].observed[t];n?this.state[e].observed[t]=s:i.ZP.set(this.state[e].observed,t,s)}setCompositePathsObserved(e,t,s){let n=t.join(","),o=this.state[e].compositeObserved[n];o?this.state[e].compositeObserved[n]=s:i.ZP.set(this.state[e].compositeObserved,n,s)}compositeObjectToKey(e){return e.paths.join(",")}setCompositeObjectObserved(e,t,s){this.setCompositePathsObserved(e,t.paths,s)}}const d=new u;let p={install:function(e){Object.defineProperties(e.prototype,{$store:{get(){return d}}})}};i.ZP.use(p);var h=s(5317);const f={mdiAccessPointNetwork:h.u7e,mdiAlertCircle:h.fr4,mdiCheckboxBlankOutline:h.Ii0,mdiCertificate:h.srU,mdiCloseBoxOutline:h.aj3,mdiCogOutline:h.eYM,mdiDelete:h.x9U,mdiDevices:h.p0g,mdiDownload:h.OGU,mdiExitRun:h.zF5,mdiEyeOutline:h._VZ,mdiEyeRemoveOutline:h.xky,mdiFormatListCheckbox:h.CXf,mdiHelpBox:h.h4G,mdiHelpCircleOutline:h.Gir,mdiHelpRhombusOutline:h.h5U,mdiInformation:h.geb,mdiInformationOutline:h.EaN,mdiKey:h.FCR,mdiKeyChange:h.zXo,mdiKeyPlus:h.V9A,mdiLock:h.d5D,mdiLockOpenRemove:h.TAV,mdiLockOutline:h.$BC,mdiMagnify:h.I0v,mdiPencil:h.r9,mdiSelect:h.yo,mdiServerSecurity:h.kuV,mdiShieldKey:h.OR_,mdiSleep:h.e_f,mdiTune:h.S3d};let m={install:function(e){Object.defineProperties(e.prototype,{$icons:{get(){return f}}})}};i.ZP.use(m);var v=s(5807);i.ZP.use(v.ZP,{format:"json"});var b=s(2513),g=s.n(b);i.ZP.use(g());var _=s(6075);i.ZP.use(_.ZP);var y=s(1705);i.ZP.use(y.Z);var O=new y.Z({icons:{iconfont:"mdiSvg"}}),w=s(2435);i.ZP.use(w.Z,{context:{vuetify:O}});var I=s(998),Z=s(2118),x=s(3059),k=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t(I.Z,[t("leshan-nav-bar"),t(x.Z,[t(Z.Z,{staticClass:"pa-0",attrs:{fluid:""}},[t("router-view")],1)],1)],1)],1)},j=[],C=s(5716),S=s(4324),A=s(5495),V=s(626),$=s(762),R=s(7953),P=function(){var e=this,t=e._self._c;return t(C.Z,{attrs:{dark:"",flat:"",dense:"","max-height":"48"}},[e.$vuetify.breakpoint.smAndUp?t(R.qW,[t(A.Z,{attrs:{src:s(7442),"max-height":"32",contain:""}})],1):e._e(),t($.Z,{attrs:{right:e.$vuetify.breakpoint.smAndUp,grow:!e.$vuetify.breakpoint.smAndUp,"hide-slider":""}},e._l(e.pages,(function(s){return t(V.Z,{key:s.title,attrs:{"fixed-tabs":"",to:s.route,"active-class":"active"}},[t(S.Z,[e._v(e._s(s.icon))]),e.$vuetify.breakpoint.smAndUp?t("span",{staticClass:"pl-2"},[e._v(" "+e._s(s.title)+" ")]):e._e()],1)})),1)],1)},D=[],N={data:function(){return{pages:[{title:"Clients",route:"/clients",icon:this.$icons.mdiDevices},{title:"Server",route:"/server",icon:this.$icons.mdiServerSecurity},{title:"Security",route:"/security",icon:this.$icons.mdiShieldKey},{title:"About",route:"/about",icon:this.$icons.mdiInformationOutline}]}}},E=N,T=s(1001),q=(0,T.Z)(E,P,D,!1,null,"5e5c6bf6",null),B=q.exports,M={components:{LeshanNavBar:B}},F=M,L=(0,T.Z)(F,k,j,!1,null,null,null),U=L.exports,H=s(8345),W=s(629),Q=s(9223),G=s(7808),J=s(6313),K=function(){var e=this,t=e._self._c;return t("div",[e.loading?e._e():t(W.Z,{staticClass:"elevation-0 fill-height ma-3",attrs:{dense:"",headers:e.headers,items:e.registrations,"item-key":"endpoint","items-per-page":10,search:e.search,"sort-by":"registrationDate","sort-desc":""},on:{"click:row":e.openLink},scopedSlots:e._u([{key:"top",fn:function(){return[t(J.Z,{attrs:{flat:""}},[e.$vuetify.breakpoint.smAndUp?t(R.qW,[e._v("Registered Clients")]):e._e(),e.$vuetify.breakpoint.smAndUp?t(Q.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}):e._e(),t(G.Z,{staticClass:"pa-2",attrs:{"append-icon":e.$icons.mdiMagnify,label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.registrationDate",fn:function({item:t}){return[e._v(" "+e._s(e._f("moment")(new Date(t.registrationDate),"MMM D, h:mm:ss A"))+" ")]}},{key:"item.lastUpdate",fn:function({item:t}){return[e._v(" "+e._s(e._f("moment")(new Date(t.lastUpdate),"MMM D, h:mm:ss A"))+" ")]}},{key:"item.infos",fn:function({item:e}){return[t("client-info",{attrs:{registration:e,tooltipleft:""}})]}}],null,!1,3379296403)})],1)},X=[],z=s(2082),Y=function(){var e=this,t=e._self._c;return t("span",[t(z.Z,{attrs:{left:e.tooltipleft,bottom:e.tooltipbottom},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(S.Z,e._g({attrs:{small:e.small}},s),[e._v(" "+e._s(e.$icons.mdiInformation)+" ")])]}}])},[e._v(" Lifetime : "+e._s(e.registration.lifetime)+"s "),t("br"),e._v(" Binding mode : "+e._s(e.registration.bindingMode)+" "),e.registration.queuemode?t("span",[t("br"),e._v(" Using QueueMode ")]):e._e(),t("br"),e._v(" Protocole version : "+e._s(e.registration.lwM2mVersion)+" "),t("br"),e._v(" Address : "+e._s(e.registration.address)+" "),e._l(e.registration.additionalRegistrationAttributes,(function(s,i){return t("span",{key:i},[t("br"),e._v(" "+e._s(i)+" "+e._s(s)+" ")])}))],2),t(z.Z,{attrs:{left:e.tooltipleft,bottom:e.tooltipbottom},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(S.Z,e._g({directives:[{name:"visible",rawName:"v-visible",value:e.registration.secure,expression:"registration.secure"}],attrs:{small:e.small}},s),[e._v(" "+e._s(e.$icons.mdiLock)+" ")])]}}])},[e._v(" Communication over DTLS ")]),t(z.Z,{attrs:{left:e.tooltipleft,bottom:e.tooltipbottom},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(S.Z,e._g({directives:[{name:"visible",rawName:"v-visible",value:e.registration.sleeping,expression:"registration.sleeping"}],attrs:{small:e.small}},s),[e._v(" "+e._s(e.$icons.mdiSleep)+" ")])]}}])},[e._v(" Device using Queue mode is absent ")])],1)},ee=[],te={props:{registration:Object,small:{type:Boolean,default:!1},tooltipleft:{type:Boolean,default:!1},tooltipbottom:{type:Boolean,default:!1}}},se=te,ie=(0,T.Z)(se,Y,ee,!1,null,null,null),ne=ie.exports,oe={components:{ClientInfo:ne},useSSE:!0,name:"Clients",data:()=>({loading:!0,registrations:[],headers:[{text:"Client Endpoint",value:"endpoint"},{text:"Registration ID",value:"registrationId"},{text:"Registration Date",value:"registrationDate"},{text:"Last Update",value:"lastUpdate"},{text:"",value:"infos",sortable:!1,align:"end"}],search:""}),methods:{openLink(e){this.$router.push(`/clients/${e.endpoint}/3`)}},mounted(){this.sse=this.$sse.create({url:"api/event"}).on("REGISTRATION",(e=>{this.registrations=this.registrations.filter((t=>e.endpoint!==t.endpoint)).concat(e)})).on("UPDATED",(e=>{let t=e.registration;this.registrations=this.registrations.filter((e=>t.registrationId!==e.registrationId)).concat(t)})).on("DEREGISTRATION",(e=>{this.registrations=this.registrations.filter((t=>e.registrationId!==t.registrationId))})).on("SLEEPING",(e=>{for(var t=0;t<this.registrations.length;t++)this.registrations[t].endpoint===e.ep&&(this.registrations[t].sleeping=!0)})).on("error",(e=>{console.error("sse unexpected error",e)})),this.sse.connect().catch((e=>{console.error("Failed to connect to server",e)})),this.axios.get("api/clients").then((e=>(this.loading=!1,this.registrations=e.data)))},beforeDestroy(){this.sse.disconnect()}},re=oe,ae=(0,T.Z)(re,K,X,!1,null,null,null),le=ae.exports,ce=s(9582),ue=s(4886),de=s(266),pe=s(5808),he=s(4525),fe=s(2017),me=s(7912),ve=s(4611),be=s(1713),ge=s(7423),_e=function(){var e=this,t=e._self._c;return t(be.Z,{staticClass:"fill-height",attrs:{"no-gutters":""}},[e.deregister?t(de.Z,{attrs:{cols:"12"}},[t("div",{staticStyle:{height:"100px"}}),t(ce.Z,{staticClass:"text-center",attrs:{elevation:"0"}},[t(ue.ZB,{staticClass:"fill-height"},[t(S.Z,{attrs:{"x-large":""}},[e._v(" "+e._s(e.$icons.mdiExitRun))]),t(ue.EB,{staticClass:"justify-center"},[e._v(" "+e._s(e.$route.params.endpoint)+" is deregistered. ")]),t(ue.Qq,[e._v(" Waiting for new registration ? ")])],1)],1)],1):e._e(),e.registration?t(de.Z,{staticStyle:{"background-color":"#fafafa"},attrs:{cols:"12",md:"2"}},[t(ge.Z,{staticClass:"pa-4",attrs:{color:"grey lighten-5",width:"100%"}},[t("h3",[e._v(" "+e._s(e.$route.params.endpoint)+" "),t("client-info",{attrs:{registration:e.registration,small:"",tooltipbottom:""}})],1),t("div",[t("div",[e._v("Reg. ID: "+e._s(e.registration.registrationId))]),t("div",[e._v(" Registered: "+e._s(e._f("moment")(e.registration.registrationDate,"MMM D, h:mm:ss A"))+" ")]),t("div",[e._v(" Updated: "+e._s(e._f("moment")(e.registration.lastUpdate,"MMM D, h:mm:ss A"))+" ")])]),t(Q.Z),t("client-setting")],1),t(Q.Z),t("span",[e.registration&&"1.0"!=e.registration.lwM2mVersion?t(pe.Z,{attrs:{dense:""}},[t(me.Z,[t(he.Z,{attrs:{to:"/clients/"+e.$route.params.endpoint+"/composite"}},[t(ve.Z,{staticClass:"me-2"},[t(S.Z,[e._v(e._s(e.$icons.mdiFormatListCheckbox))])],1),t(fe.km,[t(fe.V9,[e._v("Composite Operations")])],1)],1)],1)],1):e._e(),t(Q.Z)],1),t("object-selector",{directives:[{name:"show",rawName:"v-show",value:e.objectdefs,expression:"objectdefs"}],attrs:{objects:e.objectdefs}}),t(Q.Z)],1):e._e(),t(de.Z,{attrs:{"no-gutters":"",cols:"12",md:"10"}},[e.$route.params.objectid?t("div",[e.objectdefs?t("router-view",{attrs:{objectdef:e.objectdef,instances:e.instances}}):e._e()],1):t("div",[e.objectdefs&&e.registration?t("router-view",{attrs:{objectdefs:e.objectdefs,allInstances:e.registration.availableInstances}}):e._e()],1)])],1)},ye=[],Oe=s(9730),we=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pa-0"},[t("div",{attrs:{title:"Timeout used to send request"}},[t(Oe.Z,{attrs:{"single-line":"",dense:"","hide-details":"",prefix:e.$vuetify.breakpoint.mdOnly?null:"Timeout :",items:e.timeoutList,"item-value":"val","item-text":"txt","append-outer-icon":e.$vuetify.icons.values.account},on:{"click:append-outer":e.openTimeoutHelps},model:{value:e.timeout,callback:function(t){e.timeout=t},expression:"timeout"}})],1),t("div",{attrs:{title:"Content Format used to send request handling single value"}},[t(Oe.Z,{attrs:{"single-line":"",dense:"",prefix:e.$vuetify.breakpoint.mdOnly?null:"Single Value :","hide-details":"",items:e.singleFormatList},model:{value:e.singleformat,callback:function(t){e.singleformat=t},expression:"singleformat"}})],1),t("div",{attrs:{title:"Content Format used to send request handling multiple values"}},[t(Oe.Z,{attrs:{"single-line":"",dense:"","hide-details":"",prefix:e.$vuetify.breakpoint.mdOnly?null:"Multi Value :",items:e.multiFormatList},model:{value:e.multiformat,callback:function(t){e.multiformat=t},expression:"multiformat"}})],1)])},Ie=[],Ze={data(){return{timeoutList:[{txt:"5s",val:5},{txt:"5min",val:300},{txt:"15min",val:900},{txt:"30min",val:1800},{txt:"None",val:null}],singleFormatList:["TLV","CBOR","TEXT","OPAQUE","SENML_JSON","SENML_CBOR","JSON"],multiFormatList:["TLV","SENML_JSON","SENML_CBOR","JSON"]}},computed:{timeout:(0,_.HH)("timeout",{defaultValue:5}),singleformat:(0,_.HH)("singleformat",{defaultValue:"TLV"}),multiformat:(0,_.HH)("multiformat",{defaultValue:"TLV"})},methods:{openTimeoutHelps(){window.open("https://github.com/eclipse/leshan/wiki/Request-Timeout","_blank")}}},xe=Ze,ke=(0,T.Z)(xe,we,Ie,!1,null,null,null),je=ke.exports,Ce=function(){var e=this,t=e._self._c;return t(pe.Z,{attrs:{dense:""}},[t(me.Z,e._l(e.objects,(function(s){return t(he.Z,{key:s.id,attrs:{to:"/clients/"+e.$route.params.endpoint+"/"+s.id}},[t(ve.Z,{staticClass:"me-2"},[t("object-icon",{attrs:{objectId:s.id}})],1),t(fe.km,[t(fe.V9,[e._v(" "+e._s(s.name)+" "),e.shouldBeHidden(s)?t(S.Z,{attrs:{small:"",color:"red",title:`The Object ${s.name} ID:${s.id} MUST NOT be part of Update Objects and Object Instances list in Register Request.`}},[e._v(e._s(e.$mdiAlertCircle))]):e._e()],1),t(fe.oZ,[e._v(" "+e._s("/"+s.id)+" ")])],1)],1)})),1)],1)},Se=[],Ae=function(){var e=this,t=e._self._c;return t(S.Z,[e._v(e._s(e.idToIcon(e.objectId)))])},Ve=[],$e={props:{objectId:Number,unknowObjectIcon:{type:String,default:h.nbU},invalidObjectIcon:{type:String,default:h._gM}},methods:{idToIcon(e){if(e<0||e>65535)return this.invalidObjectIcon;switch(e){case 1:return h.K12;case 2:return h.Du2;case 3:return h.p0g;case 4:return h.Bez;case 5:return h.OEB;case 6:return h.bTi;case 7:return h.coU;case 9:return h.Blf;case 10:return h.F4B;case 11:return h.gwo;case 12:return h.aR;case 13:return h.Pcr;case 14:return h.xyS;case 15:return h.TaI;case 16:return h.Rmq;case 19:return h.YG;case 3300:return h.mXo;case 3303:return h.Qfy;case 3304:return h.uUi;case 3311:return h.yyh;case 3313:return h.LKY;case 3323:return h.EYC;case 3335:return h.FhY;case 3338:return h.nlv;case 3340:return h.clR;case 3341:return h.VUM;case 3342:return h.vbV;case 3347:return h.B8W;case 3441:return h.jIK;case 3442:return h.jIK;case 3351:return h.eqc;case 10259:return h.eLz;case 10260:return h.RpA;case 10351:return h.F_;default:return this.unknowObjectIcon}}}},Re=$e,Pe=(0,T.Z)(Re,Ae,Ve,!1,null,null,null),De=Pe.exports,Ne={components:{ObjectIcon:De},props:{objects:Array},methods:{shouldBeHidden(e){if(e)switch(e.id){case 0:case 21:return!0;default:return!1}return!1}}},Ee=Ne,Te=(0,T.Z)(Ee,Ce,Se,!1,null,null,null),qe=Te.exports,Be={components:{ObjectSelector:qe,ClientSetting:je,ClientInfo:ne},name:"Client",data:()=>({deregister:!1,registration:null,objectdefs:[]}),methods:{updateModels:function(){this.axios.get("api/objectspecs/"+encodeURIComponent(this.$route.params.endpoint)).then((e=>this.objectdefs=Object.freeze(e.data)))}},computed:{objectdef:function(){return this.objectdefs.find((e=>e.id==this.$route.params.objectid))},instances:function(){if(this.registration){let e=this.registration.availableInstances[this.$route.params.objectid];if(e)return e}return[]}},watch:{registration(e,t){e&&(t?t.endpoint!==e.endpoint&&this.$store.initState(e.endpoint):this.$store.initState(e.endpoint))}},mounted(){this.sse=this.$sse.create({url:"api/event?ep="+encodeURIComponent(this.$route.params.endpoint)}).on("REGISTRATION",(e=>{this.registration=e,this.deregister=!1,this.updateModels()})).on("UPDATED",(e=>{let t=this.registration;this.registration=e.registration,JSON.stringify(this.registration.objectLinks)!==JSON.stringify(t.objectLinks)&&this.updateModels()})).on("DEREGISTRATION",(()=>{this.registration=null,this.objectdefs=null,this.deregister=!0})).on("SLEEPING",(()=>{this.registration.sleeping=!0})).on("SEND",(e=>{for(let t in e.val)this.$store.newNode(this.$route.params.endpoint,t,e.val[t])})).on("NOTIFICATION",(e=>{"composite"==e.kind?(this.$store.newNodes(this.$route.params.endpoint,e.val),this.$store.setCompositePathsObserved(this.$route.params.endpoint,e.paths,!0)):"single"==e.kind&&("instance"===e.val.kind?this.$store.newInstanceValue(this.$route.params.endpoint,e.res,e.val.resources,!1):"singleResource"===e.val.kind?this.$store.newSingleResourceValue(this.$route.params.endpoint,e.res,e.val.value,!1):"multiResource"===e.val.kind?this.$store.newMultiResourceValue(this.$route.params.endpoint,e.res,e.val.values,!1):"resourceInstance"===e.val.kind&&this.$store.newResourceInstanceValueFromPath(this.$route.params.endpoint,e.res,e.val.value,!1),this.$store.setObserved(this.$route.params.endpoint,e.res,!0))})).on("error",(e=>{console.error("sse unexpected error",e)})),this.sse.connect().catch((e=>{console.error("Failed to connect to server",e)})),this.axios.get("api/clients/"+encodeURIComponent(this.$route.params.endpoint)).then((e=>{this.registration=e.data,this.updateModels()})).catch((()=>{this.registration=null,this.deregister=!0}))},beforeDestroy(){this.sse.disconnect()}},Me=Be,Fe=(0,T.Z)(Me,_e,ye,!1,null,null,null),Le=Fe.exports,Ue=function(){var e=this,t=e._self._c;return null!=e.$route.params.compositeObjectName?t("router-view",{attrs:{objectdefs:e.objectdefs,allInstances:e.allInstances}}):t("div",[t(ge.Z,{staticClass:"pa-4",attrs:{color:"grey lighten-5",width:"100%"}},[t("div",[t("h3",[t(S.Z,[e._v(e._s(e.$icons.mdiFormatListCheckbox))]),e._v(" Composite Operations ")],1),t("p",[e._v(' Create your "Composite Object", then you will be able to sent Composite Operation on it like Read-Composite, Write-Composite or Observe-Composite request. ')]),t("p",{staticClass:"subtitle-2"},[e._v(' Note that "Composite Object" is not a LWM2M concept but just a UI way to expose Composite Operation. ')])]),t(Q.Z),t(be.Z,[t(de.Z,{attrs:{cols:"0",md:"3"}}),t(de.Z,{attrs:{cols:"12",md:"6"}},[t("composite-objects-selector")],1),t(de.Z,{attrs:{cols:"0",md:"3"}})],1)],1)],1)},He=[],We=s(4562),Qe=s(5187),Ge=function(){var e=this,t=e._self._c;return t(ge.Z,{staticClass:"pa-4",attrs:{color:"grey lighten-5",width:"100%",height:"100%"}},[t(ce.Z,[t(ue.h7,{staticClass:"justify-center"},[t(We.Z,{attrs:{small:""},on:{click:function(t){return e.openNewCompositeObject()}}},[e._v(" Add Composite Object ")])],1),t(pe.Z,{attrs:{dense:""}},[t(me.Z,e._l(e.compositeObjects,(function(s,i){return t(he.Z,{key:i,attrs:{to:"/clients/"+e.$route.params.endpoint+"/composite/"+s.name}},[t(ve.Z,[t("composite-object-icons",{attrs:{compositeObject:s}})],1),t(fe.km,[t(fe.V9,[e._v(" "+e._s(s.name))]),t(fe.oZ,[e._v(" "+e._s(e.pathsAsString(s)))])],1),t(Qe.Z,[t(We.Z,{attrs:{icon:""},on:{click:function(t){return t.preventDefault(),e.openEditCompositeObject(s)}}},[t(S.Z,{attrs:{small:""}},[e._v(" "+e._s(e.$icons.mdiPencil)+" ")])],1)],1),t(Qe.Z,[t(We.Z,{attrs:{icon:""},on:{click:function(t){return t.preventDefault(),e.removeCompositeObject(i)}}},[t(S.Z,[e._v(e._s(e.$icons.mdiDelete))])],1)],1)],1)})),1)],1),t("composite-object-dialog",{attrs:{initialValue:e.editedCompositeObject,alreadyUsedName:e.compositeObjects.map((e=>e.name))},on:{new:function(t){return e.addNewCompositeObject(t)},edit:function(t){return e.editCompositeObject(t)}},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}})],1)],1)},Je=[],Ke=function(){var e=this,t=e._self._c;return t("span",e._l(e.objectIds,(function(s,i){return t("object-icon",{key:i,attrs:{objectId:s,invalidObjectIcon:e.$icons.mdiSelect}})})),1)},Xe=[];class ze{constructor(e){if(this.path=e,0!=e.indexOf("/"))return void(this.type="invalid");let t=e.split("/");try{2==t.length?1==e.length?this.type="root":(this.type="object",this.objectid=parseInt(t[1])):3==t.length?(this.type="objectinstance",this.objectid=parseInt(t[1]),this.objectinstanceid=parseInt(t[2])):4==t.length?(this.type="resource",this.objectid=parseInt(t[1]),this.objectinstanceid=parseInt(t[2]),this.resourceid=parseInt(t[3])):5==t.length?(this.type="resourceinstance",this.objectid=parseInt(t[1]),this.objectinstanceid=parseInt(t[2]),this.resourceid=parseInt(t[3]),this.resourceinstanceid=parseInt(t[4])):this.type="invalid"}catch(s){this.type="invalid",console.log("invalid path",e,s)}}toResourcePath(){return`/${this.objectid}/${this.objectinstanceid}/${this.resourceid}`}toString(){return this.path}}var Ye={components:{ObjectIcon:De},props:{compositeObject:Object},computed:{objectIds(){let e=new Set([]);if(this.compositeObject){let t=this.compositeObject.paths;t.forEach((t=>{let s=new ze(t);null!=s.objectid&&e.add(s.objectid)}))}e=[...e].slice(0,3);for(let t=e.length;t<3;t++)e.push(-1);return e}}},et=Ye,tt=(0,T.Z)(et,Ke,Xe,!1,null,null,null),st=tt.exports,it=s(9930),nt=s(5125),ot=s(3687),rt=(s(6699),function(){var e=this,t=e._self._c;return t(it.Z,{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(ce.Z,[t(ue.EB,{staticClass:"headline grey lighten-2"},[t("span",[e._v(e._s(e.editMode?"Edit Composite Object":"Add Composite Object"))])]),t(ue.ZB,[t("p",{staticClass:"subtitle-1"},[e._v(" A Composite Object has a name and a list of path to LWM2M node (Object, Object Instance, Resource, Resource Instance). ")]),t("p",{staticClass:"subtitle-1"},[e._v(" Root path is not yet supported. "),t("br"),e._v(" Overlapped path will not work. (e.g. /3/0 with /3/0/1 is not valid) ")]),t("div",[e._v(" Note if you create Composite Object composed of too much resources, you could face some UI performance issue. "),t("a",{attrs:{href:"https://github.com/eclipse/leshan/issues/1016"}},[e._v("This is a UI demo limitation")]),e._v(", if you have skills in vue.js your help will be welcome. ")]),t(nt.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(G.Z,{attrs:{rules:[e=>!!e||"name is required",t=>e.editMode||!t||!e.alreadyUsedName.includes(t)||"name already used"],label:"Name",required:"",autofocus:!e.editMode,disabled:e.editMode},model:{value:e.compositeObject.name,callback:function(t){e.$set(e.compositeObject,"name",t)},expression:"compositeObject.name"}}),t("paths-input",{model:{value:e.compositeObject.paths,callback:function(t){e.$set(e.compositeObject,"paths",t)},expression:"compositeObject.paths"}})],1)],1),t(ue.h7,[t(ot.Z),t(We.Z,{attrs:{text:"",disabled:!e.valid},on:{click:function(t){return e.$emit(e.editMode?"edit":"new",e.compositeObject)}}},[e._v(" "+e._s(e.editMode?"Save":"Add")+" ")]),t(We.Z,{attrs:{text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")])],1)],1)],1)}),at=[],lt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"grey lighten-4 pa-4 mb-1"},[t("span",{staticClass:"pa-2"},[t(We.Z,{attrs:{small:""},on:{click:e.addPath}},[e._v(" "+e._s(e.addButtonText)+" ")])],1),t(We.Z,{attrs:{small:""},on:{click:e.removeAllPath}},[e._v(" Remove All ")]),e._l(e.value,(function(s,i){return t("div",{key:i},[t(G.Z,{attrs:{value:s,rules:[e=>!!e||"path can not be empty required",e=>!e||/^((\/([1-9][0-9]{0,4}|[0])){0,4})$|^\/$/.test(e)||"invalid path"],placeholder:"a path to a LWM2M node (e.g. /3/0/1 or /3/0/11/0)",required:"",dense:"","append-outer-icon":e.$icons.mdiDelete},on:{input:function(t){return e.updatePath(i,t)},"click:append-outer":function(t){return e.removePath(i)}}})],1)}))],2)},ct=[],ut={props:{value:Array,addButtonText:{default:"Add Path",type:String}},methods:{addPath(){this.$emit("input",[...this.value,""])},removeAllPath(){this.$emit("input",[])},updatePath(e,t){let s=[...this.value];s.splice(e,1,t),this.$emit("input",s)},removePath(e){let t=[...this.value];t.splice(e,1),this.$emit("input",t)}}},dt=ut,pt=(0,T.Z)(dt,lt,ct,!1,null,null,null),ht=pt.exports,ft={components:{PathsInput:ht},props:{value:Boolean,initialValue:Object,alreadyUsedName:{type:Array,default:()=>[]}},data(){return{compositeObject:{},valid:!0,editMode:!1}},methods:{initialName(){let e,t=1;do{let e="compositeObject"+t;if(!this.alreadyUsedName.includes(e))return e;t++}while(t<1e3);return e}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}},watch:{value(e){e&&(this.$refs.form&&this.$refs.form.resetValidation(),this.initialValue?(this.compositeObject=JSON.parse(JSON.stringify(this.initialValue)),this.editMode=!0):(this.compositeObject={name:this.initialName(),paths:[""]},this.editMode=!1))}}},mt=ft,vt=(0,T.Z)(mt,rt,at,!1,null,null,null),bt=vt.exports,gt={components:{CompositeObjectDialog:bt,CompositeObjectIcons:st},data(){return{dialog:!1,editedCompositeObject:null}},computed:{showDialog:{get(){return this.dialog},set(e){this.dialog=e}},compositeObjects:(0,_.HH)("compositeObjects",{defaultValue:[{name:"myCompositeObject",paths:["/3/0/1","/3/0/2"]}]})},methods:{pathsAsString(e){return e.paths.join(" , ")},openNewCompositeObject(){this.editedCompositeObject=null,this.showDialog=!0},openEditCompositeObject(e){this.editedCompositeObject=e,this.showDialog=!0},addNewCompositeObject(e){this.compositeObjects=[...this.compositeObjects,e],this.showDialog=!1},editCompositeObject(e){this.compositeObjects=this.compositeObjects.map((t=>t.name==e.name?e:t)),this.showDialog=!1},removeCompositeObject(e){this.compositeObjects.splice(e,1),this.compositeObjects=[...this.compositeObjects]}}},_t=gt,yt=(0,T.Z)(_t,Ge,Je,!1,null,null,null),Ot=yt.exports,wt={components:{CompositeObjectsSelector:Ot},props:{objectdefs:Array,allInstances:Object}},It=wt,Zt=(0,T.Z)(It,Ue,He,!1,null,null,null),xt=Zt.exports,kt=s(1214),jt=function(){var e=this,t=e._self._c;return t(ge.Z,{staticClass:"pa-4",attrs:{color:"grey lighten-5",width:"100%"}},[t("div",[t("h3",{staticClass:"text-capitalize"},[t("composite-object-icons",{attrs:{compositeObject:e.compositeObject}}),e._v(e._s(e.compositeObject.name)+" "),t("composite-object-control",{attrs:{endpoint:e.$route.params.endpoint,compositeObject:e.compositeObject,nodes:e.lwm2mNodes}}),t(S.Z,{directives:[{name:"show",rawName:"v-show",value:e.state.compositeObserved[e.compositeObservationKey],expression:"state.compositeObserved[compositeObservationKey]"}],staticClass:"pl-3",attrs:{small:"",title:e.compositeObservationKey+" observed"}},[e._v(e._s(e.$icons.mdiEyeOutline))])],1),t("p",[e._v(" This Composite object is composed of following resources : "+e._s(e.compositeObject.paths.join(", "))+" ")])]),t(Q.Z),e._l(e.lwm2mNodes,(function(s,i){return t("div",{key:i},[t("h4",{staticClass:"pa-1"},[e._v(" "+e._s(i)+" "),s.instanceNotAvailable?t("span",{staticClass:"subtitle-2 grey--text text--darken-1"},[e._v(" - Instance "+e._s(s.path.objectinstanceid)+" was not reported as available by the client ")]):e._e()]),"root"==s.path.type?t("span",{staticClass:"text-body-2"},[e._v(" Root Path is not yet supported by Leshan. ")]):s.unknowObject?t("span",{staticClass:"text-body-2"},[e._v(" Client does not report it supports Object "+e._s(s.path.objectid)+" OR Leshan server demo does not know this object model, see "),t("a",{attrs:{href:"https://github.com/eclipse/leshan/wiki/Adding-new-objects#how-to-add-object-support-to-leshan-"}},[e._v(" how to add the model")]),e._v(". ")]):"object"==s.path.type?t("span",e._l(s.instances,(function(s){return t("div",{key:s.path},[t("h5",{staticClass:"pa-1"},[e._v("Instance "+e._s(s.id))]),t(kt.Z,{attrs:{accordion:"",multiple:"",dense:"",tile:""}},e._l(s.resources,(function(s){return t("resource-expansion-panel",{key:s.path,attrs:{resource:s,endpoint:e.endpoint}})})),1)],1)})),0):"objectinstance"==s.path.type?t("div",[t(kt.Z,{attrs:{accordion:"",multiple:"",dense:"",tile:""}},e._l(s.resources,(function(s){return t("resource-expansion-panel",{key:s.path,attrs:{resource:s,endpoint:e.endpoint}})})),1)],1):"resource"==s.path.type?t("div",[t(kt.Z,{attrs:{accordion:"",multiple:"",dense:"",tile:""}},[t("resource-expansion-panel",{attrs:{resource:s.resource,endpoint:e.endpoint}})],1)],1):"resourceinstance"==s.path.type?t("div",[t(kt.Z,{attrs:{accordion:"",multiple:"",dense:"",tile:""}},[t("resource-instance-expansion-panel",{attrs:{resource:s.resource,resourceInstanceId:s.resourceInstanceId,endpoint:e.endpoint}})],1)],1):"invalid"==s.path.type?t("span",{staticClass:"text-body-2"},[e._v(" Path seems to not be a valid one (ignored). ")]):t("span",{staticClass:"text-body-2"},[e._v(" Unexpected type of path "+e._s(s.path.type)+". ")])])}))],2)},Ct=[],St=s(255),At=s(2348),Vt=s(400),$t=s(7394),Rt=function(){var e=this,t=e._self._c;return t(St.Z,[t(Vt.Z,{staticClass:"pa-3",staticStyle:{"min-height":"32px"},scopedSlots:e._u([{key:"default",fn:function({open:s}){return[t(Z.Z,{staticClass:"pa-0",staticStyle:{"min-width":"0"}},[t(be.Z,[t(de.Z,{staticClass:"pa-2",attrs:{cols:"7",lg:"3","align-self":"center"}},[e._v(e._s(e.resource.def.name)+" ")]),t(de.Z,{staticClass:"pa-2 text--disabled",attrs:{cols:"4",lg:"1","align-self":"center"}},[e._v(e._s(e.resource.path)+" ")]),t(de.Z,{staticClass:"pa-2 text--disabled",attrs:{cols:"1",lg:"1","align-self":"center"}},[t(S.Z,{directives:[{name:"show",rawName:"v-show",value:e.state.observed[e.resource.path],expression:"state.observed[resource.path]"}],attrs:{"x-small":"",title:"Resource "+e.resource.path+" observed"}},[e._v(e._s(e.$icons.mdiEyeOutline))])],1),t(de.Z,{staticClass:"pa-0",attrs:{cols:"7",lg:"3","align-self":"center"}},[t($t.Z5,{attrs:{"leave-absolute":""}},[t("resource-control",{directives:[{name:"show",rawName:"v-show",value:!s,expression:"!open"}],attrs:{resourcedef:e.resource.def,endpoint:e.endpoint,path:e.resource.path}})],1)],1),t(de.Z,{staticClass:"pa-0",class:{"text--disabled":!!e.state.data[e.resource.path]&&e.state.data[e.resource.path].supposed},attrs:{cols:"5",lg:"4","align-self":"center"}},[t($t.Z5,{attrs:{"leave-absolute":""}},[t("simple-resource-view",{directives:[{name:"show",rawName:"v-show",value:!s,expression:"!open"}],staticClass:"pr-3 text-truncate",attrs:{resource:e.state.data[e.resource.path],resourcedef:e.resource.def}})],1)],1)],1)],1)]}}])}),t(At.Z,[t("resource-view",{attrs:{endpoint:e.endpoint,resource:e.state.data[e.resource.path],resourcedef:e.resource.def,path:e.resource.path}})],1)],1)},Pt=[],Dt=function(){var e=this,t=e._self._c;return t("div",[e.readable?t("request-button",{attrs:{title:"Observe "+e.path},on:{"on-click":e.observe}},[e._v("Obs")]):e._e(),e.readable?t("request-button",{attrs:{title:"Passive Cancel Obverse "+e.path},on:{"on-click":e.stopObserve}},[t(S.Z,{attrs:{dense:"",small:""}},[e._v(e._s(e.$icons.mdiEyeRemoveOutline))])],1):e._e(),e.readable?t("request-button",{attrs:{title:"Read "+e.path},on:{"on-click":e.read}},[e._v("R")]):e._e(),e.writable?t("request-button",{ref:"W",attrs:{title:"Write "+e.path},on:{"on-click":e.openWriteDialog}},[e._v("W")]):e._e(),e.executable?t("request-button",{attrs:{title:"Execute "+e.path},on:{"on-click":e.exec}},[e._v("Exe")]):e._e(),e.executable?t("request-button",{attrs:{title:"Execute with params "+e.path},on:{"on-click":e.execWithParams}},[t(S.Z,{attrs:{dense:"",small:""}},[e._v(e._s(e.$icons.mdiCogOutline))])],1):e._e(),e.showDialog?t("resource-write-dialog",{attrs:{resourcedef:e.resourcedef,path:e.path},on:{write:function(t){return e.write(t)}},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e()],1)},Nt=[],Et=s(3272),Tt=function(){var e=this,t=e._self._c;return t(Et.Z,{attrs:{color:e.state,dot:"",bottom:"",overlap:"",title:e.details,value:e.state}},[t(We.Z,{staticClass:"ma-1",attrs:{small:"",tile:"","min-width":"0",elevation:"0",title:e.title,loading:e.loading,disabled:e.loading},on:{click:function(t){return t.stopPropagation(),e.onClick.apply(null,arguments)}}},[e._t("default")],2)],1)},qt=[],Bt={props:{title:String},data(){return{loading:!1,state:null,details:null}},methods:{onClick(){this.state=null,this.details=null,this.loading=!0,this.$emit("on-click",this)},changeState(e,t){this.state=e,this.details=t,this.loading=!1},resetState(){this.state=null,this.details=null,this.loading=!1}}},Mt=Bt,Ft=(0,T.Z)(Mt,Tt,qt,!1,null,null,null),Lt=Ft.exports,Ut=function(){var e=this,t=e._self._c;return t(it.Z,{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(ce.Z,[t(ue.EB,{staticClass:"headline grey lighten-2"},[e._v(' Write "'+e._s(e.resourcedef.name)+'" Resource ')]),t(ue.ZB,[t("div",{staticClass:"subtitle-1"},[e._v("Resource "+e._s(e.path))]),e.resourcedef["type"]?t("div",[e._v(" Type : "),t("span",{staticClass:"text-capitalize"},[e._v(e._s(e.resourcedef["type"]))])]):e._e(),e.resourcedef.range?t("div",[e._v("Range : "+e._s(e.resourcedef.range))]):e._e(),e.resourcedef.units?t("div",[e._v("Units : "+e._s(e.resourcedef.units))]):e._e(),t(Q.Z,{staticClass:"pa-2"}),t("p",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.resourcedef.description))]),t(nt.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.write.apply(null,arguments)}}},[t("resource-input",{attrs:{resourcedef:e.resourcedef},model:{value:e.resourceValue,callback:function(t){e.resourceValue=t},expression:"resourceValue"}})],1)],1),t(ue.h7,[t(ot.Z),t(We.Z,{attrs:{text:""},on:{click:e.write}},[e._v(" Write ")]),t(We.Z,{attrs:{text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")])],1)],1)],1)},Ht=[],Wt=function(){var e=this,t=e._self._c;return"single"!=e.resourcedef.instancetype?t("multi-instance-resource-input",{attrs:{resourcedef:e.resourcedef,hint:e.hint,value:e.value},on:{input:function(t){return e.$emit("input",t)}}}):t("single-value-input",{attrs:{resourcedef:e.resourcedef,hint:e.hint,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},Qt=[],Gt=function(){var e=this,t=e._self._c;return"boolean"==e.resourcedef.type?t("boolean-value-input",{attrs:{resourcedef:e.resourcedef,value:e.value},on:{input:function(t){return e.$emit("input",t)}}}):"opaque"==e.resourcedef.type?t("opaque-value-input",{attrs:{resourcedef:e.resourcedef,value:e.value},on:{input:function(t){return e.$emit("input",t)}}}):"time"==e.resourcedef.type?t("date-time-value-input",{attrs:{resourcedef:e.resourcedef,value:e.value},on:{input:function(t){return e.$emit("input",t)}}}):"objlnk"==e.resourcedef.type?t("obj-link-value-input",{attrs:{resourcedef:e.resourcedef,value:e.value},on:{input:function(t){return e.$emit("input",t)}}}):t(G.Z,{attrs:{label:e.resourcedef.type,hint:e.hint,suffix:e.resourcedef.units,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},Jt=[],Kt=s(3486),Xt=function(){var e=this,t=e._self._c;return t(be.Z,[t(de.Z,{attrs:{cols:"1"}},[t(Kt.Z,{key:e.state,attrs:{indeterminate:""!==e.state,"indeterminate-icon":e.icon,"off-icon":e.$icons.mdiCloseBoxOutline},model:{value:e.booleanValue,callback:function(t){e.booleanValue=t},expression:"booleanValue"}})],1),t(de.Z,[t(G.Z,{attrs:{"single-line":"",label:e.resourcedef.type,suffix:e.resourcedef.units,rules:[t=>e.isNotSet||!e.isNotBoolean||"not a boolean"],clearable:""},model:{value:e.booleanValue,callback:function(t){e.booleanValue=t},expression:"booleanValue"}})],1)],1)},zt=[],Yt={props:{value:null,resourcedef:Object},data(){return{localValue:null}},watch:{value(e){this.localValue=e}},methods:{toBoolean(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"==e)return!0;if("false"==e)return!1}return e}},computed:{booleanValue:{get(){return this.localValue},set(e){this.$emit("input",this.toBoolean(e))}},state(){return this.isNotSet?"notset":this.isNotBoolean?"notbool":""},isNotSet(){return void 0===this.booleanValue||null===this.booleanValue||""===this.booleanValue},isNotBoolean(){return"boolean"!==typeof this.booleanValue},icon(){return this.isNotSet?this.$icons.mdiCheckboxBlankOutline:this.isNotBoolean?this.$icons.mdiHelpBox:""}}},es=Yt,ts=(0,T.Z)(es,Xt,zt,!1,null,null,null),ss=ts.exports,is=function(){var e=this,t=e._self._c;return t(be.Z,[t(de.Z,[t(G.Z,{attrs:{"single-line":"",label:e.resourcedef.type,suffix:"seconds",rules:[t=>!t||e.isValidTimestamp(t)||"Invalid timestamp"],hint:"Timestamp in seconds",clearable:""},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1)],1)},ns=[];function os(e){return"number"===typeof e?e===Math.round(e):"string"===typeof e&&""!==e.trim()&&e===String(Math.round(Number(e)))}var rs={props:{value:null,resourcedef:Object},data(){return{localValue:null}},watch:{value(e){this.isValidTimestamp(e)?this.localValue=Math.floor(parseInt(e)/1e3):this.localValue=e}},methods:{isValidTimestamp(e){return os(e)}},computed:{dateValue:{get(){return this.localValue},set(e){this.$emit("input",this.isValidTimestamp(e)?1e3*e:e)}}}},as=rs,ls=(0,T.Z)(as,is,ns,!1,null,null,null),cs=ls.exports,us=s(1625),ds=s(6072),ps=function(){var e=this,t=e._self._c;return t(be.Z,[t(de.Z,{attrs:{cols:"12",md:"3"}},[t(us.Z,{attrs:{label:"File input","show-size":"",clearable:"",disabled:!!e.localOpaqueValue},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),t(de.Z,[t(ds.Z,{attrs:{"auto-grow":"",rows:"1",label:"Byte Value in Hexadecimal",suffix:e.resourcedef.units,rules:[e=>!e||/^[0-9a-fA-F]+$/.test(e)||"Hexadecimal format is expected"],clearable:"",disabled:!!e.localFile},model:{value:e.opaqueValue,callback:function(t){e.opaqueValue=t},expression:"opaqueValue"}})],1)],1)},hs=[],fs=(s(8675),s(3462),s(7380),s(1118),{props:{value:null,resourcedef:Object},data(){return{localOpaqueValue:null,localFile:null}},watch:{value(e){null==e&&(this.localFile=null,this.localOpaqueValue=null)}},computed:{opaqueValue:{get(){return this.localOpaqueValue},set(e){this.localOpaqueValue=e,this.$emit("input",this.localOpaqueValue)}},file:{get(){return this.localFile},set(e){this.localFile=e,e?this.toByteArray(this.localFile).then((e=>this.$emit("input",e))):this.$emit("input",e)}}},methods:{toByteArray(e){return new Promise((t=>{var s=new FileReader;s.onload=function(){var e=new Uint8Array(this.result),s=new Array(e.length),i=e.length;while(i--)s[i]=(e[i]<16?"0":"")+e[i].toString(16);e=null,t(s.join(""))},s.readAsArrayBuffer(e)}))}}}),ms=fs,vs=(0,T.Z)(ms,ps,hs,!1,null,null,null),bs=vs.exports,gs=function(){var e=this,t=e._self._c;return t(be.Z,[t(de.Z,[t(G.Z,{attrs:{"single-line":"",label:"Object Id",rules:[t=>!t||e.isValidId(t)||"Invalid object id"],value:e.objectId,clearable:""},on:{input:function(t){e.$emit("input",e.objectIdChanged(t))}}})],1),t(de.Z,[t(G.Z,{attrs:{"single-line":"",label:"Object Instance Id",rules:[t=>!t||e.isValidId(t)||"Invalid object instance id"],value:e.objectInstanceId,clearable:""},on:{input:function(t){e.$emit("input",e.objectInstanceIdChanged(t))}}})],1)],1)},_s=[],ys={props:{value:null,resourcedef:Object},data(){return{objectId:"",objectInstanceId:""}},watch:{value(e){this.objectId=e.objectId,this.objectInstanceId=e.objectInstanceId}},methods:{convertToNumber(e){return os(e)?Number(e):e},isValidId(e){return os(e)},objectIdChanged(e){return""===e&&""===this.objectInstanceId?null:{objectId:this.convertToNumber(e),objectInstanceId:this.objectInstanceId}},objectInstanceIdChanged(e){return""===this.objectId&&""===e?null:{objectId:this.objectId,objectInstanceId:this.convertToNumber(e)}}}},Os=ys,ws=(0,T.Z)(Os,gs,_s,!1,null,null,null),Is=ws.exports,Zs={components:{BooleanValueInput:ss,OpaqueValueInput:bs,DateTimeValueInput:cs,ObjLinkValueInput:Is},props:{value:null,resourcedef:Object,hint:{type:String,default:null}}},xs=Zs,ks=(0,T.Z)(xs,Gt,Jt,!1,null,null,null),js=ks.exports,Cs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"grey lighten-4 pa-4 mb-1"},[t("span",{staticClass:"pa-2"},[t(We.Z,{attrs:{small:""},on:{click:e.addNewInstance}},[e._v(" Add Instance ")])],1),t(We.Z,{attrs:{small:""},on:{click:e.removeAllInstances}},[e._v(" Remove All ")]),e._l(e.instances,(function(s,i){return t("span",{key:i},[t(be.Z,{attrs:{dense:"",align:"center"}},[t(de.Z,{attrs:{cols:"12",md:"1"}},[t(G.Z,{ref:"id"+i,refInFor:!0,attrs:{hint:"Id of the instance",type:"number",rules:[e=>/^(0|[1-9]\d*)$/.test(e)||"Must be a positive Integer",t=>!e.isAlreadyUsed(t,i)||"ID already used"]},on:{input:function(t){return e.triggerValidation(i)}},model:{value:s.id,callback:function(t){e.$set(s,"id",t)},expression:"instance.id"}})],1),t(de.Z,[t("single-value-input",{attrs:{resourcedef:e.resourcedef,hint:e.hint},model:{value:s.val,callback:function(t){e.$set(s,"val",t)},expression:"instance.val"}})],1),t(de.Z,{attrs:{cols:"1",justify:"center"}},[t(We.Z,{attrs:{icon:"",small:""},on:{click:function(t){return e.removeInstance(i)}}},[t(S.Z,[e._v(" "+e._s(e.$icons.mdiDelete)+" ")])],1)],1)],1)],1)}))],2)},Ss=[],As={components:{SingleValueInput:js},props:{value:null,resourcedef:Object,hint:{type:String,default:null}},computed:{instances:{get(){return this.value?this.value:[]}}},methods:{triggerValidation(e){this.instances.forEach(((t,s)=>{if(s!=e){let e=this.$refs["id"+s];e&&e[0].validate(!0)}}))},isAlreadyUsed(e,t=-1){const s=this.instances.find(((s,i)=>s.id==e&&i!=t));return void 0!==s},addNewInstance(){this.$emit("input",[...this.instances,{id:this.newId(),val:null}])},removeAllInstances(){this.$emit("input",[])},removeInstance(e){this.instances.splice(e,1),this.$emit("input",this.instances)},newId(){let e=0;while(e<=65535){if(!this.isAlreadyUsed(e))return e;e++}}}},Vs=As,$s=(0,T.Z)(Vs,Cs,Ss,!1,null,null,null),Rs=$s.exports,Ps={components:{SingleValueInput:js,MultiInstanceResourceInput:Rs},props:{value:null,resourcedef:Object,hint:{type:String,default:null}}},Ds=Ps,Ns=(0,T.Z)(Ds,Wt,Qt,!1,null,null,null),Es=Ns.exports,Ts={components:{ResourceInput:Es},props:{value:Boolean,resourcedef:Object,path:String},data(){return{resourceValue:null}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}},watch:{value(e){e&&(this.resourceValue=null)}},methods:{write(){this.show=!1,this.$emit("write",this.resourceValue)}}},qs=Ts,Bs=(0,T.Z)(qs,Ut,Ht,!1,null,null,null),Ms=Bs.exports;s(1703);function Fs(e,t,s){let i={kind:"instance",resources:[]};null!=t&&(i.id=t);for(let n in s){let t=e.resourcedefs.find((function(e){return e.id==n}));i.resources.push(Ls(t,s[n]))}return i}function Ls(e,t){return"single"==e.instancetype?Us(e,t):Hs(e,t)}function Us(e,t){let s={};return s.id=e.id,s.kind="singleResource",s.value=t,s.type=e.type,s}function Hs(e,t){let s={};return s.id=e.id,s.kind="multiResource",s.type=e.type,s.values=t.reduce((function(e,t){return e[t.id]=t.val,e}),{}),s}function Ws(e,t,s){let i={};return i.id=t,i.kind="resourceInstance",i.value=s,i.type=e.type,i}function Qs(e,t,s){if("resource"==t.type&&"single"==e.instancetype)return Us(e,s);if("resourceinstance"==t.type)return Ws(e,t.resourceinstanceid,s);throw new Error(`Unsupported kind of node ${t.type}`)}const Gs=(0,_.HH)("timeout",{defaultValue:5}),Js=(0,_.HH)("singleformat",{defaultValue:"TLV"}),Ks=(0,_.HH)("multiformat",{defaultValue:"TLV"});var Xs={components:{RequestButton:Lt,ResourceWriteDialog:Ms},props:{resourcedef:Object,path:String,endpoint:String},data(){return{dialog:!1}},computed:{showDialog:{get(){return this.dialog},set(e){this.dialog=e,this.$refs.W.resetState()}},readable(){return this.resourcedef.operations.includes("R")},writable(){return this.resourcedef.operations.includes("W")},executable(){return this.resourcedef.operations.includes("E")}},methods:{getFormat(){return"single"===this.resourcedef.instancetype?Js.get():Ks.get()},requestPath(){return`api/clients/${encodeURIComponent(this.endpoint)}${this.path}`},requestOption(){return`?timeout=${Gs.get()}&format=${this.getFormat()}`},updateState(e,t){let s=e.valid?e.success?"success":"error":"warning";t.changeState(s,e.status)},read(e){this.axios.get(this.requestPath()+this.requestOption()).then((t=>{this.updateState(t.data,e),t.data.success&&this.$store.newResourceValue(this.endpoint,this.path,t.data.content)})).catch((()=>{e.resetState()}))},observe(e){this.axios.post(this.requestPath()+"/observe"+this.requestOption()).then((t=>{this.updateState(t.data,e),t.data.success&&(this.$store.newResourceValue(this.endpoint,this.path,t.data.content),this.$store.setObserved(this.endpoint,this.path,!0))})).catch((()=>{e.resetState()}))},stopObserve(e){this.axios.delete(this.requestPath()+"/observe").then((()=>{e.changeState("success"),this.$store.setObserved(this.endpoint,this.path,!1)})).catch((()=>{e.resetState()}))},openWriteDialog(){this.dialog=!0},write(e){let t=this.$refs.W,s=Ls(this.resourcedef,e);this.axios.put(this.requestPath()+this.requestOption(),s).then((e=>{this.updateState(e.data,t),e.data.success&&this.$store.newResourceValue(this.endpoint,this.path,s,!0)})).catch((()=>{t.resetState()}))},exec(e){this.axios.post(this.requestPath()).then((t=>{this.updateState(t.data,e)})).catch((()=>{e.resetState()}))},execWithParams(e){this.$dialog.prompt({text:"Parameters for the execute request",title:"Execute "+this.path}).then((t=>{t?this.axios.post(this.requestPath(),t).then((t=>{this.updateState(t.data,e)})).catch((()=>{e.resetState()})):e.resetState()}))}}},zs=Xs,Ys=(0,T.Z)(zs,Dt,Nt,!1,null,null,null),ei=Ys.exports,ti=function(){var e=this,t=e._self._c;return t("div",{attrs:{title:e.resourceValueAsString}},[e._v(" "+e._s(e.resourceValueAsString)+" ")])},si=[];function ii(e,t){if("objlnk"==t)return e.objectId+":"+e.objectInstanceId;if("time"==t){let t=new Date(e);return t.toDateString()+" - "+t.toLocaleTimeString()+" ("+t.getTime()/1e3+"s)"}return String(e)}function ni(e,t){if(e.isSingle)return ii(e.val,t);{let s=Object.entries(e.vals),i=s.length;if(0==i)return"0 instance";{let e=i+" instance"+(i>1?"s":""),n=s.map((([e,s])=>e+":"+ii(s.val,t))).join(", ");return e+" ["+n+"]"}}}var oi={props:{resourcedef:Object,resource:Object},computed:{resourceValueAsString:function(){return this.resource?ni(this.resource,this.resourcedef.type):""}}},ri=oi,ai=(0,T.Z)(ri,ti,si,!1,null,null,null),li=ai.exports,ci=function(){var e=this,t=e._self._c;return t(be.Z,{attrs:{color:"grey lighten-5"}},[t(de.Z,{attrs:{cols:"12",lg:"6",xl:"5"}},[t("resource-definition-view",{attrs:{resourcedef:e.resourcedef}})],1),t(de.Z,[t(ce.Z,{attrs:{elevation:"0"}},[t("resource-control",{attrs:{resourcedef:e.resourcedef,endpoint:e.endpoint,path:e.path}}),"single"==e.resourcedef.instancetype?t(ue.ZB,{staticClass:"font-weight-bold",class:{"text--primary":e.resource&&!e.resource.supposed}},[e._v(" "+e._s(e.resourceValueAsString)+" ")]):t("multi-instances-resource-view",{attrs:{resourcedef:e.resourcedef,endpoint:e.endpoint,path:e.path,resource:e.resource}})],1)],1)],1)},ui=[],di=s(9449),pi=function(){var e=this,t=e._self._c;return e.resource?t(di.Z,{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"px-2 text-left"},[e._v("Id")]),t("th"),t("th"),t("th",{staticClass:"text-left",staticStyle:{width:"100%"}},[e._v("Value")])])]),t("tbody",e._l(e.resource.vals,(function(s,i){return t("tr",{key:i,staticStyle:{"background-color":"transparent !important"}},[t("td",{staticClass:"px-2 text--disabled"},[e._v(e._s(i))]),t("td",{staticClass:"px-2"},[t(S.Z,{directives:[{name:"show",rawName:"v-show",value:e.state.observed[e.instancePath(i)],expression:"state.observed[instancePath(id)]"}],staticClass:"pa-0",attrs:{"x-small":"",title:"Instance "+e.instancePath(i)+" observed"}},[e._v(e._s(e.$icons.mdiEyeOutline))])],1),t("td",{staticClass:"px-2",staticStyle:{"white-space":"nowrap"}},[t("resource-instance-control",{attrs:{endpoint:e.endpoint,resourcedef:e.resourcedef,resourcePath:e.path,instanceId:Number(i)}})],1),t("td",{class:{"text--disabled":s.supposed}},[e._v(" "+e._s(e.valueAsString(s.val))+" ")])])})),0)]},proxy:!0}],null,!1,2977364300)}):e._e()},hi=[],fi=function(){var e=this,t=e._self._c;return t("div",[e.readable?t("request-button",{attrs:{title:"Observe "+e.path},on:{"on-click":e.observe}},[e._v("Obs")]):e._e(),e.readable?t("request-button",{attrs:{title:"Passive Cancel Obverse "+e.path},on:{"on-click":e.stopObserve}},[t(S.Z,{attrs:{dense:"",small:""}},[e._v(e._s(e.$icons.mdiEyeRemoveOutline))])],1):e._e(),e.readable?t("request-button",{attrs:{title:"Read "+e.path},on:{"on-click":e.read}},[e._v("R")]):e._e(),e.writable?t("request-button",{ref:"W",attrs:{title:"Write "+e.path},on:{"on-click":e.openWriteDialog}},[e._v("W")]):e._e(),e.showDialog?t("resource-instance-write-dialog",{attrs:{resourcedef:e.resourcedef,path:e.path,instanceId:e.instanceId},on:{write:function(t){return e.write(t)}},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e()],1)},mi=[],vi=function(){var e=this,t=e._self._c;return t(it.Z,{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(ce.Z,[t(ue.EB,{staticClass:"headline grey lighten-2"},[e._v(" Write Instance "+e._s(e.instanceId)+' of "'+e._s(e.resourcedef.name)+'" Resource ')]),t(ue.ZB,[t("div",{staticClass:"subtitle-1"},[e._v("Resource Instance "+e._s(e.path))]),e.resourcedef["type"]?t("div",[e._v(" Type : "),t("span",{staticClass:"text-capitalize"},[e._v(e._s(e.resourcedef["type"]))])]):e._e(),e.resourcedef.range?t("div",[e._v("Range : "+e._s(e.resourcedef.range))]):e._e(),e.resourcedef.units?t("div",[e._v("Units : "+e._s(e.resourcedef.units))]):e._e(),t(Q.Z,{staticClass:"pa-2"}),t("p",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.resourcedef.description))]),t(nt.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.write.apply(null,arguments)}}},[t("single-value-input",{attrs:{resourcedef:e.resourcedef},model:{value:e.resourceValue,callback:function(t){e.resourceValue=t},expression:"resourceValue"}})],1)],1),t(ue.h7,[t(ot.Z),t(We.Z,{attrs:{text:""},on:{click:e.write}},[e._v(" Write ")]),t(We.Z,{attrs:{text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")])],1)],1)],1)},bi=[],gi={components:{SingleValueInput:js},props:{value:Boolean,resourcedef:Object,path:String,instanceId:Number},data(){return{resourceValue:null}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}}},watch:{value(e){e&&(this.resourceValue=null)}},methods:{write(){this.show=!1,this.$emit("write",this.resourceValue)}}},_i=gi,yi=(0,T.Z)(_i,vi,bi,!1,null,null,null),Oi=yi.exports;const wi=(0,_.HH)("timeout",{defaultValue:5}),Ii=(0,_.HH)("singleformat",{defaultValue:"TLV"});var Zi={components:{RequestButton:Lt,ResourceInstanceWriteDialog:Oi},props:{resourcedef:Object,resourcePath:String,instanceId:Number,endpoint:String},data(){return{dialog:!1}},computed:{showDialog:{get(){return this.dialog},set(e){this.dialog=e,this.$refs.W.resetState()}},path(){return this.resourcePath+"/"+this.instanceId},readable(){return this.resourcedef.operations.includes("R")},writable(){return this.resourcedef.operations.includes("W")}},methods:{requestPath(){return`api/clients/${encodeURIComponent(this.endpoint)}${this.path}`},requestOption(){return`?timeout=${wi.get()}&format=${Ii.get()}`},updateState(e,t){let s=e.valid?e.success?"success":"error":"warning";t.changeState(s,e.status)},read(e){this.axios.get(this.requestPath()+this.requestOption()).then((t=>{this.updateState(t.data,e),t.data.success&&this.$store.newResourceInstanceValue(this.endpoint,this.resourcePath,this.instanceId,t.data.content.value)})).catch((()=>{e.resetState()}))},observe(e){this.axios.post(this.requestPath()+"/observe"+this.requestOption()).then((t=>{this.updateState(t.data,e),t.data.success&&(this.$store.newResourceInstanceValue(this.endpoint,this.resourcePath,this.instanceId,t.data.content.value),this.$store.setObserved(this.endpoint,this.path,!0))})).catch((()=>{e.resetState()}))},stopObserve(e){this.axios.delete(this.requestPath()+"/observe").then((()=>{e.changeState("success"),this.$store.setObserved(this.endpoint,this.path,!1)})).catch((()=>{e.resetState()}))},openWriteDialog(){this.dialog=!0},write(e){let t=this.$refs.W;this.axios.put(this.requestPath()+this.requestOption(),Ws(this.resourcedef,this.instanceId,e)).then((s=>{this.updateState(s.data,t),s.data.success&&this.$store.newResourceInstanceValue(this.endpoint,this.resourcePath,this.instanceId,e,!0)})).catch((()=>{t.resetState()}))}}},xi=Zi,ki=(0,T.Z)(xi,fi,mi,!1,null,null,null),ji=ki.exports,Ci={components:{ResourceInstanceControl:ji},props:{endpoint:String,resourcedef:Object,resource:Object,path:String},computed:{state(){return this.$store.state[this.endpoint]}},methods:{valueAsString(e){return ii(e,this.resourcedef.type)},instancePath(e){return this.path+"/"+e}}},Si=Ci,Ai=(0,T.Z)(Si,pi,hi,!1,null,null,null),Vi=Ai.exports,$i=function(){var e=this,t=e._self._c;return t(ce.Z,{staticClass:"grey lighten-4",attrs:{elevation:"0"}},[t(ue.Qq,{staticClass:"pb-0 text-decoration-underline"},[e._v(" Model : ")]),t(ue.ZB,[t(di.Z,{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v(" Operations ")]),t("th",{staticClass:"text-left"},[e._v(" Instances ")]),t("th",{staticClass:"text-left"},[e._v(" Mandatory ")]),t("th",{staticClass:"text-left"},[e._v(" Type ")]),t("th",{staticClass:"text-left"},[e._v(" Range or enumeration ")]),t("th",{staticClass:"text-left"},[e._v(" Units ")])])]),t("tbody",[t("tr",{staticClass:"text-capitalize",staticStyle:{"pointer-events":"none"}},[t("td",[e._v(e._s(e.resourcedef.operations))]),t("td",[e._v(e._s(e.resourcedef.instancetype))]),t("td",[e._v(e._s(e.resourcedef.mandatory))]),t("td",[e._v(e._s(e.resourcedef.type))]),t("td",[e._v(e._s(e.resourcedef.range))]),t("td",[e._v(e._s(e.resourcedef.units))])])])]},proxy:!0}])})],1),t(ue.Qq,{staticClass:"pb-0 text-decoration-underline"},[e._v(" Description : ")]),t(ue.ZB,{staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.resourcedef.description)),e.resourcedef.description2?t("br"):e._e(),e._v(e._s(e.resourcedef.description2)+" ")])],1)},Ri=[],Pi={props:{resourcedef:Object}},Di=Pi,Ni=(0,T.Z)(Di,$i,Ri,!1,null,null,null),Ei=Ni.exports,Ti={components:{ResourceControl:ei,ResourceDefinitionView:Ei,MultiInstancesResourceView:Vi},props:{endpoint:String,resourcedef:Object,resource:Object,path:String},computed:{resourceValueAsString:function(){return this.resource?ni(this.resource,this.resourcedef.type):""}}},qi=Ti,Bi=(0,T.Z)(qi,ci,ui,!1,null,null,null),Mi=Bi.exports,Fi={components:{ResourceControl:ei,SimpleResourceView:li,ResourceView:Mi},props:{endpoint:String,resource:Object},computed:{state(){return this.$store.state[this.endpoint]}}},Li=Fi,Ui=(0,T.Z)(Li,Rt,Pt,!1,null,null,null),Hi=Ui.exports,Wi=function(){var e=this,t=e._self._c;return t(St.Z,[t(Vt.Z,{staticClass:"pa-3",staticStyle:{"min-height":"32px"},scopedSlots:e._u([{key:"default",fn:function({open:s}){return[t(Z.Z,{staticClass:"pa-0",staticStyle:{"min-width":"0"}},[t(be.Z,[t(de.Z,{staticClass:"pa-2",attrs:{cols:"7",lg:"3","align-self":"center"}},[e._v(e._s(e.resource.def.name)+" ")]),t(de.Z,{staticClass:"pa-2 text--disabled",attrs:{cols:"4",lg:"1","align-self":"center"}},[e._v(e._s(e.resourceInstancePath)+" ")]),t(de.Z,{staticClass:"pa-2 text--disabled",attrs:{cols:"1",lg:"1","align-self":"center"}},[t(S.Z,{directives:[{name:"show",rawName:"v-show",value:e.state.observed[e.resourceInstancePath],expression:"state.observed[resourceInstancePath]"}],attrs:{"x-small":"",title:"Resource Instance"+e.resourceInstancePath+" observed"}},[e._v(e._s(e.$icons.mdiEyeOutline))])],1),t(de.Z,{staticClass:"pa-0",attrs:{cols:"7",lg:"3","align-self":"center"}},[t($t.Z5,{attrs:{"leave-absolute":""}},[t("resource-instance-control",{directives:[{name:"show",rawName:"v-show",value:!s,expression:"!open"}],attrs:{resourcedef:e.resource.def,endpoint:e.endpoint,resourcePath:e.resource.path,instanceId:e.resourceInstanceId}})],1)],1),t(de.Z,{staticClass:"pa-0",class:{"text--disabled":!!e.resourceInstanceValue&&e.resourceInstanceValue.supposed},attrs:{cols:"5",lg:"4","align-self":"center"}},[t($t.Z5,{attrs:{"leave-absolute":""}},[t("simple-resource-instance-view",{directives:[{name:"show",rawName:"v-show",value:!s,expression:"!open"}],staticClass:"pr-3 text-truncate",attrs:{resourceInstance:e.resourceInstanceValue,resourcedef:e.resource.def}})],1)],1)],1)],1)]}}])}),t(At.Z,[t("resource-instance-view",{attrs:{endpoint:e.endpoint,resourceInstance:e.resourceInstanceValue,resourcedef:e.resource.def,resourcePath:e.resource.path,resourceInstanceId:e.resourceInstanceId}})],1)],1)},Qi=[],Gi=function(){var e=this,t=e._self._c;return t(be.Z,{attrs:{color:"grey lighten-5"}},[t(de.Z,{attrs:{cols:"12",lg:"6",xl:"5"}},[t("resource-definition-view",{attrs:{resourcedef:e.resourcedef}})],1),t(de.Z,[t(ce.Z,{attrs:{elevation:"0"}},[t("resource-instance-control",{attrs:{resourcedef:e.resourcedef,endpoint:e.endpoint,resourcePath:e.resourcePath,instanceId:e.resourceInstanceId}}),t(ue.ZB,{staticClass:"font-weight-bold",class:{"text--primary":e.resourceInstance&&!e.resourceInstance.supposed}},[e._v(" "+e._s(e.resourceInstanceValueAsString)+" ")])],1)],1)],1)},Ji=[],Ki={components:{ResourceInstanceControl:ji,ResourceDefinitionView:Ei},props:{endpoint:String,resourcedef:Object,resourcePath:String,resourceInstance:Object,resourceInstanceId:Number},computed:{resourceInstanceValueAsString:function(){return this.resourceInstance?ii(this.resourceInstance.val,this.resourcedef.type):""}}},Xi=Ki,zi=(0,T.Z)(Xi,Gi,Ji,!1,null,null,null),Yi=zi.exports,en=function(){var e=this,t=e._self._c;return t("div",{attrs:{title:e.resourceInstanceValueAsString}},[e._v(" "+e._s(e.resourceInstanceValueAsString)+" ")])},tn=[],sn={props:{resourcedef:Object,resourceInstance:Object},computed:{resourceInstanceValueAsString:function(){return this.resourceInstance?ii(this.resourceInstance.val,this.resourcedef.type):""}}},nn=sn,on=(0,T.Z)(nn,en,tn,!1,null,null,null),rn=on.exports,an={components:{ResourceInstanceControl:ji,SimpleResourceInstanceView:rn,ResourceInstanceView:Yi},props:{endpoint:String,resource:Object,resourceInstanceId:Number},computed:{state(){return this.$store.state[this.endpoint]},resourceInstancePath(){return`${this.resource.path}/${this.resourceInstanceId}`},resourceInstanceValue(){let e=this.state.data[this.resource.path];return e&&!e.isSingle?e.vals[this.resourceInstanceId]:null}}},ln=an,cn=(0,T.Z)(ln,Wi,Qi,!1,null,null,null),un=cn.exports,dn=function(){var e=this,t=e._self._c;return t("span",[t("request-button",{attrs:{title:"Composite Observe"},on:{"on-click":e.observe}},[e._v("Obs")]),t("request-button",{attrs:{title:"Passive Cancel Obverse"},on:{"on-click":e.stopObserve}},[t(S.Z,{attrs:{dense:"",small:""}},[e._v(e._s(e.$icons.mdiEyeRemoveOutline))])],1),t("request-button",{attrs:{title:"Composite Read"},on:{"on-click":e.read}},[e._v("R")]),t("request-button",{ref:"W",attrs:{title:"Composite Write"},on:{"on-click":e.openWriteDialog}},[e._v("W")]),t("composite-object-write-dialog",{attrs:{compositeObject:e.compositeObject,nodes:e.nodes},on:{write:function(t){return e.write(t)}},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}),t("composite-operation-setting-menu",{scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(We.Z,e._g(e._b({staticClass:"ma-1",attrs:{small:"",tile:"","min-width":"0",elevation:"0",title:"Composite Operation Settings"}},"v-btn",i,!1),s),[t(S.Z,{attrs:{small:""}},[e._v(" "+e._s(e.$icons.mdiTune))])],1)]}}])})],1)},pn=[],hn=s(4568),fn=function(){var e=this,t=e._self._c;return t(hn.Z,{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:t,attrs:s}){return[e._t("activator",null,{attrs:s,on:t})]}}],null,!0),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(ce.Z,[t(pe.Z,[t(he.Z,[t("p",{staticClass:"subtitle-2"},[e._v(" ContentFormat used to encode "),t("strong",[e._v("LWM2M Paths")]),e._v(" for "),t("strong",[e._v("Read/Observe")]),e._v("-Composite Operation : ")])]),t(he.Z,[t(Qe.Z,[t(Oe.Z,{attrs:{dense:"",items:e.compositePathFormatList},model:{value:e.compositePathFormat,callback:function(t){e.compositePathFormat=t},expression:"compositePathFormat"}})],1)],1),t(he.Z,[t("p",{staticClass:"subtitle-2"},[e._v(" ContentFormat used to encode/decode "),t("strong",[e._v("LWM2M nodes")]),e._v(" for "),t("strong",[e._v("Read/Observe/Write")]),e._v("-Composite Operation : ")])]),t(he.Z,[t(Qe.Z,[t(Oe.Z,{attrs:{"single-line":"",dense:"",items:e.compositeNodeFormatList},model:{value:e.compositeNodeFormat,callback:function(t){e.compositeNodeFormat=t},expression:"compositeNodeFormat"}})],1)],1)],1)],1)],1)},mn=[],vn={data(){return{menu:!1,compositePathFormatList:["SENML_JSON","SENML_CBOR"],compositeNodeFormatList:["SENML_JSON","SENML_CBOR"]}},computed:{compositePathFormat:(0,_.HH)("CompositePathFormat",{defaultValue:"SENML_CBOR"}),compositeNodeFormat:(0,_.HH)("CompositeNodeFormat",{defaultValue:"SENML_CBOR"})}},bn=vn,gn=(0,T.Z)(bn,fn,mn,!1,null,null,null),_n=gn.exports,yn=function(){var e=this,t=e._self._c;return t(it.Z,{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(ce.Z,[t(ue.EB,{staticClass:"headline grey lighten-2"},[e._v(' Write Composite Object "'+e._s(e.compositeObject.name)+'". ')]),t(ue.ZB,[t("div",[e._v(' Only Writable "Singleresource", "Resource Instance" are supported. '),t("br"),e._v(" Nodes "+e._s(e.ignoredeNodes.join(", "))+' from "'+e._s(e.compositeObject.name)+'" will be ignored because there are not supported for Composite-Write. ')]),t(nt.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.write.apply(null,arguments)}}},[t(Z.Z,{attrs:{fluid:""}},e._l(e.writableNodes,(function(s){return t("div",{key:s.path.toString()},[t("h4",{staticClass:"pa-1"},[e._v(e._s(s.path))]),"resource"==s.path.type?t("labelled-resource-input",{attrs:{resourcedef:s.resource.def},model:{value:e.nodesValue[s.path.toString()],callback:function(t){e.$set(e.nodesValue,s.path.toString(),t)},expression:"nodesValue[node.path.toString()]"}}):"resourceinstance"==s.path.type?t("labelled-resource-instance-input",{attrs:{resourcedef:s.resource.def},model:{value:e.nodesValue[s.path.toString()],callback:function(t){e.$set(e.nodesValue,s.path.toString(),t)},expression:"nodesValue[node.path.toString()]"}}):e._e()],1)})),0)],1)],1),t(ue.h7,[t(ot.Z),t(We.Z,{attrs:{text:""},on:{click:e.write}},[e._v(" Write ")]),t(We.Z,{attrs:{text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")])],1)],1)],1)},On=[],wn=s(2540),In=function(){var e=this,t=e._self._c;return t(be.Z,{attrs:{dense:""}},[t(de.Z,{attrs:{cols:"12",md:"2"}},[e.resourcedef.mandatory?t(wn.Z,[t("strong",[e._v(e._s(e.resourcedef.name)+" *")])]):t(wn.Z,[e._v(e._s(e.resourcedef.name)+" ")])],1),t(de.Z,{attrs:{cols:"11",md:"9"}},[t("resource-input",{attrs:{resourcedef:e.resourcedef,hint:e.hint(e.resourcedef),value:e.value},on:{input:function(t){return e.$emit("input",t)}}})],1),t(de.Z,{attrs:{cols:"1",md:"1"}},[t(z.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(S.Z,e._g({},s),[e._v(" "+e._s(e.$icons.mdiHelpCircleOutline)+" ")])]}}])},[t("p",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.resourcedef.description))])])],1)],1)},Zn=[],xn={components:{ResourceInput:Es},props:{value:null,resourcedef:Object},methods:{hint(e){let t="";return e.mandatory&&(t+=" mandatory"),e.range&&(t+=" (Range: "+e.range+")"),t}}},kn=xn,jn=(0,T.Z)(kn,In,Zn,!1,null,null,null),Cn=jn.exports,Sn=function(){var e=this,t=e._self._c;return t(be.Z,{attrs:{dense:""}},[t(de.Z,{attrs:{cols:"12",md:"2"}},[e.resourcedef.mandatory?t(wn.Z,[t("strong",[e._v(e._s(e.resourcedef.name)+" *")])]):t(wn.Z,[e._v(e._s(e.resourcedef.name)+" ")])],1),t(de.Z,{attrs:{cols:"11",md:"9"}},[t("single-value-input",{attrs:{resourcedef:e.resourcedef,hint:e.hint(e.resourcedef),value:e.value},on:{input:function(t){return e.$emit("input",t)}}})],1),t(de.Z,{attrs:{cols:"1",md:"1"}},[t(z.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(S.Z,e._g({},s),[e._v(" "+e._s(e.$icons.mdiHelpCircleOutline)+" ")])]}}])},[t("p",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.resourcedef.description))])])],1)],1)},An=[],Vn={components:{SingleValueInput:js},props:{value:null,resourcedef:Object},methods:{hint(e){let t="";return e.mandatory&&(t+=" mandatory"),e.range&&(t+=" (Range: "+e.range+")"),t}}},$n=Vn,Rn=(0,T.Z)($n,Sn,An,!1,null,null,null),Pn=Rn.exports,Dn={components:{LabelledResourceInput:Cn,LabelledResourceInstanceInput:Pn},props:{value:Boolean,compositeObject:Object,nodes:Object},data(){return{nodesValue:{},supportedTypes:[]}},watch:{value(e){e&&(this.nodesValue={})}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}},ignoredeNodes(){return Object.values(this.nodes).filter((e=>!this.isSupported(e))).map((e=>e.path.toString()))},writableNodes(){return Object.values(this.nodes).filter((e=>this.isSupported(e)))}},methods:{isSupported(e){return("resourceinstance"==e.path.type||"resource"==e.path.type&&"single"==e.resource.def.instancetype)&&e.resource.def.operations.includes("W")},write(){this.show=!1,console.log(this.nodesValue),this.$emit("write",this.nodesValue)}}},Nn=Dn,En=(0,T.Z)(Nn,yn,On,!1,null,null,null),Tn=En.exports;const qn=(0,_.HH)("timeout",{defaultValue:5}),Bn=(0,_.HH)("CompositePathFormat",{defaultValue:"SENML_CBOR"}),Mn=(0,_.HH)("CompositeNodeFormat",{defaultValue:"SENML_CBOR"});var Fn={components:{RequestButton:Lt,CompositeOperationSettingMenu:_n,CompositeObjectWriteDialog:Tn},props:{endpoint:String,compositeObject:Object,nodes:Object},data(){return{dialog:!1}},computed:{showDialog:{get(){return this.dialog},set(e){this.dialog=e,this.$refs.W.resetState()}}},methods:{requestPath(){return`api/clients/${encodeURIComponent(this.endpoint)}/composite`},requestOption(){return`?timeout=${qn.get()}&pathformat=${Bn.get()}&nodeformat=${Mn.get()}`},updateState(e,t){let s=e.valid?e.success?"success":"error":"warning";t.changeState(s,e.status)},read(e){this.axios.get(`${this.requestPath()}${this.requestOption()}`,{params:{paths:this.compositeObject.paths.join(",")}}).then((t=>{this.updateState(t.data,e),t.data.success&&this.$store.newNodes(this.endpoint,t.data.content)})).catch((()=>{e.resetState()}))},observe(e){this.axios.post(`${this.requestPath()}/observe${this.requestOption()}&paths=${this.compositeObject.paths.join(",")}`).then((t=>{this.updateState(t.data,e),t.data.success&&(this.$store.newNodes(this.endpoint,t.data.content),this.$store.setCompositeObjectObserved(this.endpoint,this.compositeObject,!0))})).catch((()=>{e.resetState()}))},stopObserve(e){this.axios.delete(`${this.requestPath()}/observe?paths=${this.compositeObject.paths.join(",")}`).then((()=>{e.changeState("success"),this.$store.setObserved(this.endpoint,this.path,!1),this.$store.setCompositeObjectObserved(this.endpoint,this.compositeObject,!1)})).catch((()=>{e.resetState()}))},openWriteDialog(){this.dialog=!0},write(e){let t=this.$refs.W,s=Object.entries(e).reduce(((e,[t,s])=>{let i=this.nodes[t];return e[t]=Qs(i.resource.def,i.path,s),e}),{});console.log(s),this.axios.put(`${this.requestPath()}${this.requestOption()}`,s).then((e=>{this.updateState(e.data,t),e.data.success&&this.$store.newNodes(this.endpoint,s,!0)})).catch((()=>{t.resetState()}))}}},Ln=Fn,Un=(0,T.Z)(Ln,dn,pn,!1,null,null,null),Hn=Un.exports,Wn={components:{ResourceExpansionPanel:Hi,ResourceInstanceExpansionPanel:un,CompositeObjectIcons:st,CompositeObjectControl:Hn},props:{objectdefs:Array,allInstances:Object},data(){return{compositeObject:null}},created(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData(){let e=(0,_.HH)("compositeObjects",{defaultValue:[]});this.compositeObject=e.get().find((e=>e.name==this.$route.params.compositeObjectName))},createResources(e,t){return e?e.resourcedefs.map((s=>({path:`/${e.id}/${t}/${s.id}`,def:s}))).filter((e=>e.def.operations.includes("R")||e.def.operations.includes("W"))):null}},computed:{endpoint(){return this.$route.params.endpoint},state(){return this.$store.state[this.endpoint]},compositeObservationKey(){return this.$store.compositeObjectToKey(this.compositeObject)},lwm2mNodes(){if(!this.objectdefs||0==this.objectdefs.length)return{};let e=this.compositeObject.paths.map((e=>{let t=new ze(e);if("invalid"==t.type)return{path:t};let s=null;if(null!=t.objectid&&(s=this.objectdefs.find((e=>e.id==t.objectid)),null==s))return{path:t,unknowObject:!0};let i=!0;if(null!=t.objectinstanceid){let e=this.allInstances[t.objectid];e&&(i=!e.includes(t.objectinstanceid))}switch(t.type){case"object":{let e=this.allInstances[t.objectid],i=[];return e&&(i=e.map((e=>{let t={};return t.id=e,t.path=`/${s.id}/${t.id}`,t.resources=this.createResources(s,t.id),t}))),{path:t,objectdef:s,instances:i}}case"objectinstance":return{path:t,objectdef:s,instanceNotAvailable:i,instanceid:t.objectinstanceid,resources:this.createResources(s,t.objectinstanceid)};case"resource":{let e=s.resourcedefs.find((e=>e.id==t.resourceid));return{path:t,instanceNotAvailable:i,resource:{path:t.toString(),def:e}}}case"resourceinstance":{let e=s.resourcedefs.find((e=>e.id==t.resourceid));return{path:t,instanceNotAvailable:i,resourceInstanceId:t.resourceinstanceid,resource:{path:t.toResourcePath(),def:e}}}default:return{path:t}}}));return e.reduce(((e,t)=>(e[t.path.toString()]=t,e)),{})}}},Qn=Wn,Gn=(0,T.Z)(Qn,jt,Ct,!1,null,null,null),Jn=Gn.exports,Kn=function(){var e=this,t=e._self._c;return e.objectdef?t(ge.Z,{staticClass:"pa-4",attrs:{color:"grey lighten-5",width:"100%"}},[t("div",[t("h3",[t("object-icon",{attrs:{objectId:e.objectdef.id}}),e._v(" "+e._s(e.objectdef.name)+"-v"+e._s(e.objectdef.version)+" "),t("object-control",{key:e.objectdef.id,attrs:{id:"object.id",objectdef:e.objectdef,endpoint:e.$route.params.endpoint}})],1),t("p",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.objectdef.description))])]),t(Q.Z),e._l(e.instances,(function(s){return t("div",{key:e.objectdef.id+"/"+s},[t("instance-view",{attrs:{objectdef:e.objectdef,instanceId:s,endpoint:e.$route.params.endpoint}})],1)}))],2):e._e()},Xn=[],zn=function(){var e=this,t=e._self._c;return t("div",[t("h4",{staticClass:"pa-1"},[t("span",{staticClass:"d-flex"},[t("span",{staticClass:"align-self-center"},[e._v(" Instance "+e._s(e.instanceId)+" : ")]),t("instance-control",{staticClass:"mr-auto",attrs:{objectdef:e.objectdef,endpoint:e.endpoint,id:e.instanceId,path:e.instancePath}}),t(S.Z,{directives:[{name:"show",rawName:"v-show",value:e.state.observed[e.instancePath],expression:"state.observed[instancePath]"}],staticClass:"mr-3",attrs:{small:"",title:"Instance "+e.instancePath+" observed"}},[e._v(e._s(e.$icons.mdiEyeOutline))])],1)]),e.objectdef&&"number"==typeof e.instanceId&&e.endpoint?t(kt.Z,{attrs:{accordion:"",multiple:"",dense:"",tile:""}},e._l(e.resources,(function(s){return t("resource-expansion-panel",{key:s.path,attrs:{resource:s,endpoint:e.endpoint}})})),1):e._e()],1)},Yn=[],eo=function(){var e=this,t=e._self._c;return t("span",[t("request-button",{attrs:{title:"Observe "+e.path},on:{"on-click":e.observe}},[e._v("Obs")]),t("request-button",{attrs:{title:"Passive Cancel Obverse "+e.path},on:{"on-click":e.stopObserve}},[t(S.Z,{attrs:{dense:"",small:""}},[e._v(e._s(e.$icons.mdiEyeRemoveOutline))])],1),t("request-button",{attrs:{title:"Read "+e.path},on:{"on-click":e.read}},[e._v("R")]),t("request-button",{ref:"W",attrs:{title:"Write "+e.path},on:{"on-click":e.openWriteDialog}},[e._v("W")]),t("request-button",{attrs:{title:"Delete "+e.path},on:{"on-click":e.del}},[e._v("Delete")]),t("instance-write-dialog",{attrs:{objectdef:e.objectdef,id:e.id},on:{update:function(t){return e.write(t,!1)},replace:function(t){return e.write(t,!0)}},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}})],1)},to=[],so=function(){var e=this,t=e._self._c;return t(it.Z,{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(ce.Z,[t(ue.EB,{staticClass:"headline grey lighten-2"},[e._v(' Write Instance "'+e._s(e.id)+'" for Object '+e._s(e.objectdef.name)+" ("+e._s(e.objectdef.id)+") ")]),t(ue.ZB,[t(nt.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.write.apply(null,arguments)}}},[t(Z.Z,{attrs:{fluid:""}},e._l(e.writableResourceDef,(function(s){return t("resource-input",{key:s.id,attrs:{resourcedef:s},model:{value:e.instanceValue[s.id],callback:function(t){e.$set(e.instanceValue,s.id,t)},expression:"instanceValue[resourcedef.id]"}})})),1)],1)],1),t(ue.h7,[t(ot.Z),t(We.Z,{attrs:{text:""},on:{click:e.update}},[e._v(" Update ")]),t(We.Z,{attrs:{text:""},on:{click:e.replace}},[e._v(" Replace ")]),t(We.Z,{attrs:{text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")])],1)],1)],1)},io=[],no={components:{ResourceInput:Cn},props:{value:Boolean,objectdef:Object,id:Number},data(){return{instanceValue:{}}},watch:{value(e){e&&(this.instanceValue={})}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}},writableResourceDef(){return this.objectdef.resourcedefs.filter((e=>e.operations.includes("W")))}},methods:{replace(){this.show=!1,this.$emit("replace",this.instanceValue)},update(){this.show=!1,this.$emit("update",this.instanceValue)}}},oo=no,ro=(0,T.Z)(oo,so,io,!1,null,null,null),ao=ro.exports;const lo=(0,_.HH)("timeout",{defaultValue:5}),co=(0,_.HH)("multiformat",{defaultValue:"TLV"});var uo={components:{RequestButton:Lt,InstanceWriteDialog:ao},props:{endpoint:String,path:String,objectdef:Object,id:Number},data(){return{dialog:!1}},computed:{showDialog:{get(){return this.dialog},set(e){this.dialog=e,this.$refs.W.resetState()}}},methods:{requestPath(){return`api/clients/${encodeURIComponent(this.endpoint)}${this.path}`},requestOption(){return`?timeout=${lo.get()}&format=${co.get()}`},updateState(e,t){let s=e.valid?e.success?"success":"error":"warning";t.changeState(s,e.status)},read(e){this.axios.get(`${this.requestPath()}${this.requestOption()}`).then((t=>{this.updateState(t.data,e),t.data.success&&this.$store.newInstanceValue(this.endpoint,this.path,t.data.content.resources)})).catch((()=>{e.resetState()}))},observe(e){this.axios.post(`${this.requestPath()}/observe${this.requestOption()}`).then((t=>{this.updateState(t.data,e),t.data.success&&(this.$store.newInstanceValue(this.endpoint,this.path,t.data.content.resources),this.$store.setObserved(this.endpoint,this.path,!0))})).catch((()=>{e.resetState()}))},stopObserve(e){this.axios.delete(`${this.requestPath()}/observe`).then((()=>{e.changeState("success"),this.$store.setObserved(this.endpoint,this.path,!1)})).catch((()=>{e.resetState()}))},openWriteDialog(){this.dialog=!0},write(e,t){let s=this.$refs.W,i=Fs(this.objectdef,this.id,e);this.axios.put(`${this.requestPath()}${this.requestOption()}&replace=${t}`,i).then((e=>{this.updateState(e.data,s),e.data.success&&this.$store.newInstanceValue(this.endpoint,this.path,i.resources,!0,!t)})).catch((()=>{s.resetState()}))},del(e){this.axios.delete(`${this.requestPath()}?timeout=${lo.get()}`).then((t=>{this.updateState(t.data,e),t.data.success&&this.$store.removeInstanceValue(this.endpoint,this.path)})).catch((()=>{e.resetState()}))}}},po=uo,ho=(0,T.Z)(po,eo,to,!1,null,null,null),fo=ho.exports,mo={components:{InstanceControl:fo,ResourceExpansionPanel:Hi},props:{objectdef:Object,instanceId:Number,endpoint:String},computed:{state(){return this.$store.state[this.endpoint]},resources(){return this.objectdef.resourcedefs.map((e=>({path:`/${this.objectdef.id}/${this.instanceId}/${e.id}`,def:e})))},instancePath(){return`/${this.objectdef.id}/${this.instanceId}`}}},vo=mo,bo=(0,T.Z)(vo,zn,Yn,!1,null,null,null),go=bo.exports,_o=function(){var e=this,t=e._self._c;return t("span",[t("request-button",{ref:"C",attrs:{title:"Create Instance /"+e.objectdef.id},on:{"on-click":e.openCreateDialog}},[e._v("Create")]),t("instance-create-dialog",{attrs:{objectdef:e.objectdef},on:{create:function(t){return e.create(t)}},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}})],1)},yo=[],Oo=function(){var e=this,t=e._self._c;return t(it.Z,{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(ce.Z,[t(ue.EB,{staticClass:"headline grey lighten-2"},[e._v(" Create new Instance for Object "+e._s(e.objectdef.name)+" ("+e._s(e.objectdef.id)+") ")]),t(ue.ZB,[t(nt.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.write.apply(null,arguments)}}},[t(be.Z,{attrs:{dense:""}},[t(de.Z,{attrs:{cols:"12",md:"2"}},[t(wn.Z,[e._v("Instance Id ")])],1),t(de.Z,{attrs:{cols:"12",md:"9"}},[t(G.Z,{attrs:{label:"Integer",hint:"Let this field empty to let the client choose the instance ID"},model:{value:e.instance.id,callback:function(t){e.$set(e.instance,"id",t)},expression:"instance.id"}})],1)],1),e._l(e.writableResourceDef,(function(s){return t("resource-input",{key:s.id,attrs:{resourcedef:s},model:{value:e.instance.resources[s.id],callback:function(t){e.$set(e.instance.resources,s.id,t)},expression:"instance.resources[resourcedef.id]"}})}))],2)],1),t(ue.h7,[t(ot.Z),t(We.Z,{attrs:{text:""},on:{click:e.create}},[e._v(" Create ")]),t(We.Z,{attrs:{text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")])],1)],1)],1)},wo=[],Io={components:{ResourceInput:Cn},props:{value:Boolean,objectdef:Object},data(){return{instance:{id:null,resources:{}}}},watch:{value(e){e&&(this.instance={id:null,resources:{}},this.id=null)}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}},writableResourceDef(){return this.objectdef.resourcedefs.filter((e=>e.operations.includes("W")))}},methods:{create(){this.show=!1,this.$emit("create",this.instance)}}},Zo=Io,xo=(0,T.Z)(Zo,Oo,wo,!1,null,null,null),ko=xo.exports;const jo=(0,_.HH)("timeout",{defaultValue:5}),Co=(0,_.HH)("multiformat",{defaultValue:"TLV"});var So={components:{RequestButton:Lt,InstanceCreateDialog:ko},props:{objectdef:Object,endpoint:String},data(){return{dialog:!1}},computed:{showDialog:{get(){return this.dialog},set(e){this.dialog=e,this.$refs.C.resetState()}}},methods:{requestPath(){return`api/clients/${encodeURIComponent(this.endpoint)}/${this.objectdef.id}?timeout=${jo.get()}&format=${Co.get()}`},updateState(e,t){let s=e.valid?e.success?"success":"error":"warning";t.changeState(s,e.status)},openCreateDialog(){this.dialog=!0},create(e){let t=this.$refs.C,s=Fs(this.objectdef,e.id,e.resources);this.axios.post(this.requestPath(),s).then((e=>{this.updateState(e.data,t)})).catch((()=>{t.resetState()}))}}},Ao=So,Vo=(0,T.Z)(Ao,_o,yo,!1,null,null,null),$o=Vo.exports,Ro={components:{InstanceView:go,ObjectIcon:De,ObjectControl:$o},props:{objectdef:Object,instances:Array}},Po=Ro,Do=(0,T.Z)(Po,Kn,Xn,!1,null,null,null),No=Do.exports,Eo=function(){var e=this,t=e._self._c;return t(W.Z,{staticClass:"elevation-0",attrs:{headers:e.headers,items:e.securityInfos,"item-key":"endpoint","sort-by":"endpoint",dense:"",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[t(J.Z,{attrs:{flat:""}},[e.$vuetify.breakpoint.smAndUp?t(R.qW,[e._v("Security Information")]):e._e(),e.$vuetify.breakpoint.smAndUp?t(Q.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}):e._e(),t(G.Z,{staticClass:"pa-2",attrs:{"append-icon":e.$icons.mdiMagnify,label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(We.Z,{staticClass:"mb-2",attrs:{dark:""},on:{click:function(t){return t.stopPropagation(),e.openNewSec()}}},[e._v(" "+e._s(e.$vuetify.breakpoint.smAndDown?"":"Add Security Information")+" "),t(S.Z,{attrs:{right:!e.$vuetify.breakpoint.smAndDown,dark:""}},[e._v(" "+e._s(e.$icons.mdiKeyPlus)+" ")])],1),t("security-info-dialog",{attrs:{initialValue:e.editedSecurityInfo},on:{new:function(t){return e.newSec(t)},edit:function(t){return e.editSec(t)}},model:{value:e.dialogOpened,callback:function(t){e.dialogOpened=t},expression:"dialogOpened"}})],1)]},proxy:!0},{key:"item.mode",fn:function({item:e}){return[t("security-info-chip",{attrs:{securityInfo:e}})]}},{key:"item.details",fn:function({item:s}){return[s.tls?t("div",["psk"==s.tls.mode?t("div",{staticClass:"pa-1",staticStyle:{"word-break":"break-all"}},[t("strong",[e._v("Identity:")]),t("code",[e._v(e._s(s.tls.details.identity))]),t("br"),t("strong",[e._v("Key:")]),t("code",{staticClass:"text-uppercase"},[e._v(e._s(s.tls.details.key))])]):e._e(),"rpk"==s.tls.mode?t("div",{staticClass:"pa-1",staticStyle:{"word-break":"break-all"}},[t("strong",[e._v("Public Key:")]),t("code",{staticClass:"text-uppercase"},[e._v(e._s(s.tls.details.key))])]):e._e(),"x509"==s.tls.mode?t("div",{staticClass:"pa-1",staticStyle:{"word-break":"break-all"}},[t("strong",[e._v("X509 certificate with CN equals :")]),t("code",[e._v(e._s(s.endpoint))])]):e._e()]):e._e(),s.oscore?t("div",[t("strong",[e._v("Sender ID:")]),t("code",{staticClass:"text-uppercase"},[e._v(e._s(s.oscore.sid))]),t("br"),t("strong",[e._v("Master Secret:")]),t("code",{staticClass:"text-uppercase"},[e._v(e._s(s.oscore.msec))]),t("br"),t("strong",[e._v("Recipient ID:")]),t("code",{staticClass:"text-uppercase"},[e._v(e._s(s.oscore.rid))])]):e._e()]}},{key:"item.actions",fn:function({item:s}){return[t(S.Z,{staticClass:"mr-2",attrs:{small:"",disabled:"unsupported"==s.mode},on:{click:function(t){return t.stopPropagation(),e.openEditSec(s)}}},[e._v(" "+e._s(e.$icons.mdiPencil)+" ")]),t(S.Z,{attrs:{small:""},on:{click:function(t){return e.deleteSec(s)}}},[e._v(" "+e._s(e.$icons.mdiDelete)+" ")])]}}])})},To=[],qo=function(){var e=this,t=e._self._c;return t(it.Z,{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(ce.Z,[t(ue.EB,{staticClass:"headline grey lighten-2"},[t("span",[e._v(e._s(e.editMode?"Edit Security Information":"Add Security Information"))])]),t(ue.ZB,[t(nt.Z,{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(G.Z,{attrs:{rules:[e=>!!e||"Endpoint is required"],label:"Endpoint",required:"",autofocus:!e.editMode,disabled:e.editMode},model:{value:e.securityInfo.endpoint,callback:function(t){e.$set(e.securityInfo,"endpoint",t)},expression:"securityInfo.endpoint"}}),t("security-info-input",{attrs:{tls:e.securityInfo.tls,oscore:e.securityInfo.oscore},on:{"update:tls":function(t){return e.$set(e.securityInfo,"tls",t)},"update:oscore":function(t){return e.$set(e.securityInfo,"oscore",t)}}})],1)],1),t(ue.h7,[t(ot.Z),t(We.Z,{attrs:{text:"",disabled:!e.isValid},on:{click:function(t){return e.$emit(e.editMode?"edit":"new",e.securityInfo)}}},[e._v(" "+e._s(e.editMode?"Save":"Add")+" ")]),t(We.Z,{attrs:{text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")])],1)],1)],1)},Bo=[],Mo=s(9884),Fo=function(){var e=this,t=e._self._c;return t("div",[t(Mo.Z,{attrs:{label:"Using (D)TLS"},on:{change:function(t){return e.useDTLSChanged(t)}},model:{value:e.useDTLS,callback:function(t){e.useDTLS=t},expression:"useDTLS"}}),e.useDTLS&&e.tlsInfo?t("tls-input",{attrs:{mode:e.tlsInfo.mode,details:e.tlsInfo.details},on:{"update:mode":[function(t){return e.$set(e.tlsInfo,"mode",t)},function(t){return e.$emit("update:tls",e.tlsInfo)}],"update:details":[function(t){return e.$set(e.tlsInfo,"details",t)},function(t){return e.$emit("update:tls",e.tlsInfo)}]}}):e._e(),t(Mo.Z,{attrs:{label:"Using OSCORE (Experimental - for now can not be used with DTLS)"},on:{change:function(t){return e.useOSCOREChanged(t)}},model:{value:e.useOSCORE,callback:function(t){e.useOSCORE=t},expression:"useOSCORE"}}),e.useOSCORE&&e.oscoreInfo?t("oscore-input",{on:{input:function(t){return e.$emit("update:oscore",e.oscoreInfo)}},model:{value:e.oscoreInfo,callback:function(t){e.oscoreInfo=t},expression:"oscoreInfo"}}):e._e()],1)},Lo=[],Uo=function(){var e=this,t=e._self._c;return t("div",[t(ds.Z,{attrs:{filled:"",label:"Sender ID",rows:"2",rules:[e=>!!e||"Sender ID is required",e=>/^[0-9a-fA-F]+$/.test(e)||"Hexadecimal format is expected"],hint:"Hexadecimal format",spellcheck:"false"},on:{input:function(t){return e.$emit("input",e.oscore)}},model:{value:e.oscore.sid,callback:function(t){e.$set(e.oscore,"sid",t)},expression:"oscore.sid"}}),t(ds.Z,{attrs:{filled:"",label:"Master Secret",rows:"2",rules:[e=>!!e||"Master Secret is required",e=>/^[0-9a-fA-F]+$/.test(e)||"Hexadecimal format is expected"],hint:"Hexadecimal format",spellcheck:"false"},on:{input:function(t){return e.$emit("input",e.oscore)}},model:{value:e.oscore.msec,callback:function(t){e.$set(e.oscore,"msec",t)},expression:"oscore.msec"}}),t(ds.Z,{attrs:{filled:"",label:"Recipient ID",rows:"2",rules:[e=>!!e||"Recipient ID is required",e=>/^[0-9a-fA-F]+$/.test(e)||"Hexadecimal format is expected"],hint:"Hexadecimal format",spellcheck:"false"},on:{input:function(t){return e.$emit("input",e.oscore)}},model:{value:e.oscore.rid,callback:function(t){e.$set(e.oscore,"rid",t)},expression:"oscore.rid"}})],1)},Ho=[],Wo={props:{value:Object},data(){return{oscore:this.value}},watch:{value(e){this.oscore=e}}},Qo=Wo,Go=(0,T.Z)(Qo,Uo,Ho,!1,null,null,null),Jo=Go.exports,Ko=function(){var e=this,t=e._self._c;return t("div",[t(Oe.Z,{attrs:{items:e.modes,label:"Security Mode"},on:{input:function(t){return e.modeChanged()}},model:{value:e.internalMode,callback:function(t){e.internalMode=t},expression:"internalMode"}}),"psk"==e.internalMode?t("psk-input",{on:{input:function(t){return e.$emit("update:details",e.pskValue)}},model:{value:e.pskValue,callback:function(t){e.pskValue=t},expression:"pskValue"}}):e._e(),"rpk"==e.internalMode?t("rpk-input",{on:{input:function(t){return e.$emit("update:details",e.rpkValue)}},model:{value:e.rpkValue,callback:function(t){e.rpkValue=t},expression:"rpkValue"}}):e._e(),"x509"==e.internalMode?t("x-509-input"):e._e()],1)},Xo=[],zo=function(){var e=this,t=e._self._c;return t("div",[t(ds.Z,{attrs:{filled:"",label:"Identity",rules:[e=>!!e||"Identity is required"],spellcheck:"false"},on:{input:function(t){return e.$emit("input",e.psk)}},model:{value:e.psk.identity,callback:function(t){e.$set(e.psk,"identity",t)},expression:"psk.identity"}}),t(ds.Z,{attrs:{filled:"",label:"Key",hint:"Hexadecimal format",rules:[e=>!!e||"Key is required",e=>/^[0-9a-fA-F]+$/.test(e)||"Hexadecimal format is expected"],spellcheck:"false"},on:{input:function(t){return e.$emit("input",e.psk)}},model:{value:e.psk.key,callback:function(t){e.$set(e.psk,"key",t)},expression:"psk.key"}})],1)},Yo=[],er={props:{value:Object},data(){return{psk:this.value}},watch:{value(e){this.psk=e}}},tr=er,sr=(0,T.Z)(tr,zo,Yo,!1,null,null,null),ir=sr.exports,nr=function(){var e=this,t=e._self._c;return t("div",[t(ds.Z,{attrs:{filled:"",label:"Client Public Key",rules:[e=>!!e||"Public is required",e=>/^[0-9a-fA-F]+$/.test(e)||"Hexadecimal format is expected"],hint:"SubjectPublicKeyInfo der encoded in Hexadecimal",spellcheck:"false"},on:{input:function(t){return e.$emit("input",e.rpk)}},model:{value:e.rpk.key,callback:function(t){e.$set(e.rpk,"key",t)},expression:"rpk.key"}})],1)},or=[],rr={props:{value:Object},data(){return{rpk:this.value}},watch:{value(e){e&&(this.rpk=this.value)}}},ar=rr,lr=(0,T.Z)(ar,nr,or,!1,null,null,null),cr=lr.exports,ur=function(){var e=this,t=e._self._c;return t("div",[e._v("Use X509 certificate.")])},dr=[],pr={},hr=(0,T.Z)(pr,ur,dr,!1,null,null,null),fr=hr.exports,mr={components:{PskInput:ir,RpkInput:cr,X509Input:fr},props:{mode:String,details:Object},data(){return{modes:["psk","rpk","x509"],internalMode:"psk",pskValue:{},rpkValue:{}}},beforeMount(){this.initMode(),this.initDetails()},watch:{mode(){this.initMode()},details(){this.initDetails()}},methods:{initMode(){this.internalMode=this.mode},initDetails(){switch(this.mode){case"psk":this.pskValue=this.details,this.rpkValue={};break;case"rpk":this.pskValue={},this.rpkValue=this.details;break;case"x509":this.rpkValue={},this.pskValue={};break}},modeChanged(){switch(this.$emit("update:mode",this.internalMode),this.internalMode){case"psk":this.$emit("update:details",this.pskValue);break;case"rpk":this.$emit("update:details",this.rpkValue);break;case"x509":this.$emit("update:details",{});break}}}},vr=mr,br=(0,T.Z)(vr,Ko,Xo,!1,null,null,null),gr=br.exports,_r={components:{TlsInput:gr,OscoreInput:Jo},props:{tls:Object,oscore:Object},data(){return{useDTLS:!0,useOSCORE:!1,tlsInfo:null,oscoreInfo:null}},beforeMount(){this.initOscore(this.oscore),this.initTls(this.tls)},watch:{oscore(e){this.initOscore(e)},tls(e){this.initTls(e)}},methods:{initOscore(e){e?(this.useOSCORE=!0,this.oscoreInfo=JSON.parse(JSON.stringify(e))):(this.useOSCORE=!1,this.oscoreInfo=void 0)},initTls(e){e?(this.useDTLS=!0,this.tlsInfo=JSON.parse(JSON.stringify(e))):(this.useDTLS=!1,this.tlsInfo=void 0)},useDTLSChanged(e){e&&(this.useOSCORE=!e),this.exclusifTlsOrOSCORE()},useOSCOREChanged(e){e&&(this.useDTLS=!e),this.exclusifTlsOrOSCORE()},exclusifTlsOrOSCORE(){this.useDTLS?(this.$emit("update:tls",{mode:"psk",details:{}}),this.$emit("update:oscore",void 0)):this.useOSCORE?(this.$emit("update:tls",void 0),this.$emit("update:oscore",{})):(this.$emit("update:tls",void 0),this.$emit("update:oscore",void 0))}}},yr=_r,Or=(0,T.Z)(yr,Fo,Lo,!1,null,null,null),wr=Or.exports,Ir={components:{SecurityInfoInput:wr},props:{value:Boolean,initialValue:Object},data(){return{securityInfo:{},valid:!0,editMode:!1}},computed:{show:{get(){return this.value},set(e){this.$emit("input",e)}},isValid:{get(){return this.securityInfo&&(this.securityInfo.tls||this.securityInfo.oscore)&&this.valid}}},watch:{value(e){e&&(this.$refs.form&&this.$refs.form.resetValidation(),this.initialValue?(this.securityInfo=JSON.parse(JSON.stringify(this.initialValue)),this.editMode=!0):(this.securityInfo={endpoint:"",tls:{mode:"psk",details:{}}},this.editMode=!1))}}},Zr=Ir,xr=(0,T.Z)(Zr,qo,Bo,!1,null,null,null),kr=xr.exports,jr=s(4127),Cr=function(){var e=this,t=e._self._c;return e.securityInfo&&(e.securityInfo.tls||e.securityInfo.oscore)?t("div",[e.securityInfo.tls?t(jr.Z,{attrs:{small:""}},[t(S.Z,{attrs:{left:"",small:""}},[e._v(" "+e._s(e.modeIcon)+" ")]),e._v(" "+e._s(e.securityInfo.tls.mode)+" ")],1):e._e(),e.securityInfo.oscore?t(jr.Z,{attrs:{small:""}},[t(S.Z,{attrs:{left:"",small:""}},[e._v(" "+e._s(e.oscoreIcon)+" ")]),e._v(" oscore ")],1):e._e()],1):t("div",[t(jr.Z,{attrs:{small:""}},[t(S.Z,{attrs:{left:"",small:""}},[e._v(" "+e._s(e.noSecIcon)+" ")]),e._v(" Nothing ")],1)],1)},Sr=[];function Ar(e){switch(e){case"x509":return h.srU;case"psk":return h.d5D;case"rpk":return h.zXo;default:return h.h5U}}function Vr(){return h.$BC}function $r(){return h.TAV}var Rr={props:{securityInfo:Object},computed:{modeIcon(){return Ar(this.securityInfo.tls.mode)},oscoreIcon(){return Vr()},noSecIcon(){return $r()}}},Pr=Rr,Dr=(0,T.Z)(Pr,Cr,Sr,!1,null,null,null),Nr=Dr.exports,Er={components:{SecurityInfoDialog:kr,SecurityInfoChip:Nr},data:()=>({dialogOpened:!1,headers:[{text:"Endpoint",value:"endpoint"},{text:"Security mode",value:"mode"},{text:"Details",value:"details",sortable:!1,width:"60%"},{text:"Actions",value:"actions",sortable:!1}],search:"",securityInfos:[],editedSecurityInfo:{}}),beforeMount(){this.axios.get("api/security/clients").then((e=>this.securityInfos=e.data))},methods:{openNewSec(){this.editedSecurityInfo=null,this.dialogOpened=!0},newSec(e){this.axios.put("api/security/clients/",e).then((()=>{let t=this.securityInfos.findIndex((t=>t.endpoint==e.endpoint));-1!=t?this.$set(this.securityInfos,t,e):this.securityInfos.push(e),this.dialogOpened=!1}))},openEditSec(e){this.editedSecurityInfo=e,this.dialogOpened=!0},editSec(e){this.axios.put("api/security/clients/",e).then((()=>{this.securityInfos=this.securityInfos.map((t=>t.endpoint==e.endpoint?e:t)),this.dialogOpened=!1}))},deleteSec(e){this.indexToRemove=this.securityInfos.indexOf(e),this.axios.delete("api/security/clients/"+encodeURIComponent(e.endpoint)).then((()=>{this.securityInfos.splice(this.indexToRemove,1)}))}}},Tr=Er,qr=(0,T.Z)(Tr,Eo,To,!1,null,null,null),Br=qr.exports,Mr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pa-5"},[t(ce.Z,{attrs:{elevation:"0"}},[t(ue.ZB,[t(ue.EB,{staticClass:"justify-center"},[e._v(" Server Information ")]),t(ue.Qq,{staticClass:"text-center"},[e._v(" Here some information about this server. ")])],1)],1),t(be.Z,[t(de.Z,{attrs:{md:"3",cols:"12"}},[t(ce.Z,{attrs:{outlined:""}},[t(he.Z,{attrs:{"three-line":""}},[t(fe.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("CoAP Endpoint")]),t(fe.V9,{staticClass:"text-h5 mb-1"},[e._v(" Server URL ")]),t(fe.oZ,[e._v("Available endpoints for this server: ")])],1),t(S.Z,[e._v(e._s(e.$icons.mdiAccessPointNetwork))])],1),t(ue.ZB,[t("ul",[t("li",[t("code",[t("strong",[e._v(e._s(e.coapurl))])]),e._v(": CoAP over UDP. ")]),t("li",[t("code",[t("strong",[e._v(e._s(e.coapsurl))])]),e._v(": CoAP over DTLS. ")])])])],1)],1),e.pubkey?t(de.Z,{attrs:{md:"4",cols:"12"}},[t(ce.Z,{attrs:{outlined:""}},[t(he.Z,{attrs:{"three-line":""}},[t(fe.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("RPK")]),t(fe.V9,{staticClass:"text-h5 mb-1"},[e._v(" Server Public Key ")]),t(fe.oZ,{staticClass:"font-italic"},[e._v(" SubjectPublicKeyInfo der encoded ")])],1),t(S.Z,[e._v(e._s(e.$icons.mdiKey))]),t(ue.h7,[t(We.Z,{attrs:{icon:"",title:"Download Public Key"},on:{click:function(t){return e.saveFile(e.pubkeyFileName,e.pubkey.bytesDer)}}},[t(S.Z,[e._v(e._s(e.$icons.mdiDownload))])],1)],1)],1),t(ue.ZB,[t("p",[e._v(" If you want to connect a client using DTLS with Raw Public Key(RPK) mode, your client need to trust this key to accept DTLS connection with this server. ")]),t("u",[e._v("Elliptic Curve parameters :")]),t("div",[t("code",[e._v(e._s(e.pubkey.params))])]),t("u",[e._v("Public x coord :")]),t("div",[t("code",[e._v(e._s(e.pubkey.x))])]),t("u",[e._v("Public y coord :")]),t("div",[t("code",[e._v(e._s(e.pubkey.y))])]),t("p",[t("u",[e._v("Hex : ")])]),t("div",{staticClass:"key"},[e._v(" "+e._s(e.pubkey.hexDer)+" ")]),t("br"),t("u",[e._v("Base64 : ")]),t("div",{staticClass:"key"},[e._v(" "+e._s(e.pubkey.b64Der)+" ")])])],1)],1):e._e(),e.certificate?t(de.Z,{attrs:{md:"5",cols:"12"}},[t(ce.Z,{attrs:{outlined:""}},[t(he.Z,{attrs:{"three-line":""}},[t(fe.km,[t("div",{staticClass:"text-overline mb-4"},[e._v("x509")]),t(fe.V9,{staticClass:"text-h5 mb-1"},[e._v(" Server Certificate ")]),t(fe.oZ,{staticClass:"font-italic"},[e._v(" x509v3 der encoded ")])],1),t(S.Z,[e._v(e._s(e.$icons.mdiCertificate))]),t(ue.h7,[t(We.Z,{attrs:{icon:"",title:"Download Certificate"},on:{click:function(t){return e.saveFile(e.certFileName,e.certificate.bytesDer)}}},[t(S.Z,[e._v(e._s(e.$icons.mdiDownload))])],1)],1)],1),t(ue.ZB,[t("p",[e._v(" If you want to connect a client using DTLS with certificate(x509) mode, your client need to trust this certificate to accept DTLS connection with this server. ")]),t("u",[e._v("Hex : ")]),t("div",{staticClass:"key"},[e._v(" "+e._s(e.certificate.hexDer)+" ")]),t("br"),t("u",[e._v("Base64 : ")]),t("div",{staticClass:"key"},[e._v(" "+e._s(e.certificate.b64Der)+" ")])])],1)],1):e._e()],1)],1)},Fr=[];s(2801);function Lr(e){let t=[];for(let s in e)t[s]=e[s].toString(16).toUpperCase(),1===t[s].length&&(t[s]="0"+t[s]);return t.join("")}function Ur(e){let t=atob(e),s=t.length,i=new Uint8Array(new ArrayBuffer(s));for(let n=0;n<s;n++)i[n]=t.charCodeAt(n);return i}var Hr=s(3162),Wr={props:{pubkeyFileName:String,certFileName:String},data(){return{coapurl:"",coapsurl:"",certificate:{},pubkey:{}}},methods:{saveFile(e,t){var s=new Blob([t],{type:"application/octet-stream"});(0,Hr.saveAs)(s,e)}},beforeMount(){this.axios.get("api/server/endpoint").then((e=>{this.coapurl=`coap://${location.hostname}:${e.data.unsecuredEndpointPort}`,this.coapsurl=`coaps://${location.hostname}:${e.data.securedEndpointPort}`})),this.axios.get("api/server/security").then((e=>{e.data.certificate?(this.certificate=e.data.certificate,this.certificate.bytesDer=Ur(this.certificate.b64Der),this.certificate.hexDer=Lr(this.certificate.bytesDer),this.pubkey=e.data.certificate.pubkey,this.pubkey.bytesDer=Ur(this.pubkey.b64Der),this.pubkey.hexDer=Lr(this.pubkey.bytesDer)):e.data.pubkey&&(this.certificate=null,this.pubkey=e.data.pubkey,this.pubkey.bytesDer=Ur(this.pubkey.b64Der),this.pubkey.hexDer=Lr(this.pubkey.bytesDer))}))}},Qr=Wr,Gr=(0,T.Z)(Qr,Mr,Fr,!1,null,null,null),Jr=Gr.exports,Kr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"about"},[t(be.Z,{staticClass:"text-center pa-5"},[t(de.Z,{attrs:{cols:"12"}},[t(A.Z,{staticClass:"my-3",attrs:{src:s(7166),contain:"",height:"200"}})],1),t(de.Z,{staticClass:"mb-4",attrs:{cols:"12"}},[t("h1",{staticClass:"display-1 font-weight-bold mb-3"},[e._v(" Leshan Server Demo ")]),t("p",{staticClass:"subheading font-weight-regular"},[e._v(" This is a "),t("a",{attrs:{href:"https://github.com/eclipse/leshan/wiki/F.A.Q.#could-i-reuse-leshan--demo-",target:"_blank"}},[t("strong",[e._v("LWM2M Server Demo")])]),e._v(" based on java "),t("a",{attrs:{href:"https://www.eclipse.org/leshan/",target:"_blank"}},[t("strong",[e._v("Leshan")])]),e._v(" library. "),t("br"),e._v("If you find any issue, please "),t("a",{attrs:{href:"https://www.eclipse.org/leshan/",target:"_blank"}},[e._v("report it")]),e._v(". ")]),e.version&&e.commitid?t("p",{staticClass:"subheading font-weight-regular"},[e._v(" Version "),t("a",{attrs:{href:"https://github.com/eclipse/leshan/tree/"+e.commitid,target:"_blank"}},[t("strong",[e._v(e._s(e.version))])])]):e._e()])],1)],1)},Xr=[],zr={data(){return{version:"2.0.0-SNAPSHOT",commitid:"31e0e88014f8adcba1ec71b08c697fb0900a7ebf"}}},Yr=zr,ea=(0,T.Z)(Yr,Kr,Xr,!1,null,null,null),ta=ea.exports;i.ZP.use(H.Z);const sa=[{path:"/",redirect:"/clients"},{path:"/clients/:endpoint",component:Le,children:[{path:"composite",component:xt,children:[{path:":compositeObjectName",component:Jn}]},{path:":objectid",component:No}]},{path:"/clients",name:"Clients",component:le},{path:"/security",name:"Security",component:Br},{path:"/server",name:"Server",component:Jr,props:{pubkeyFileName:"serverPubKey.der",certFileName:"serverCertificate.der"}},{path:"/about",name:"About",component:ta}],ia=new H.Z({routes:sa});var na=ia;i.ZP.config.productionTip=!1,i.ZP.directive("visible",(function(e,t){e.style.visibility=t.value?"visible":"hidden"})),new i.ZP({vuetify:O,router:na,render:e=>e(U)}).$mount("#app")},7442:function(e){e.exports="data:image/png;base64,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"},7166:function(e,t,s){e.exports=s.p+"img/multicolor-leshan.eefa88ef.png"}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,n,o){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],o=e[u][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(a=!1,o<r&&(r=o));if(a){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,o,r=i[0],a=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)var u=l(s)}for(t&&t(i);c<r.length;c++)o=r[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},i=self["webpackChunkleshan_server_demo"]=self["webpackChunkleshan_server_demo"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(4201)}));i=s.O(i)})();
//# sourceMappingURL=app.882743f5.js.map